2025-05-16 17:45:58.486 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 17:45:59.052 +03:00 [INF] Executed DbCommand (359ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [E_LearningDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-05-16 17:45:59.180 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [E_LearningDB];
2025-05-16 17:46:26.704 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 17:46:26.789 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 17:46:27.379 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 17:46:56.354 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 17:46:56.536 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 17:46:57.986 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 17:46:59.054 +03:00 [INF] Executed DbCommand (747ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [E_LearningDB];
2025-05-16 17:46:59.181 +03:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [E_LearningDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-05-16 17:46:59.290 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 17:46:59.439 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2025-05-16 17:46:59.448 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 17:46:59.482 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 17:46:59.534 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-16 17:46:59.572 +03:00 [INF] Applying migration '20250516144628_FixCategoryForeignKey'.
2025-05-16 17:46:59.883 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id])
);
2025-05-16 17:46:59.895 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [EmailConfirmationCodes] (
    [Id] int NOT NULL IDENTITY,
    [Email] nvarchar(450) NOT NULL,
    [Code] nvarchar(6) NOT NULL,
    [ExpiryDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_EmailConfirmationCodes] PRIMARY KEY ([Id])
);
2025-05-16 17:46:59.908 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PasswordResetCodes] (
    [Id] int NOT NULL IDENTITY,
    [Email] nvarchar(450) NOT NULL,
    [Code] nvarchar(6) NOT NULL,
    [ExpiryDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_PasswordResetCodes] PRIMARY KEY ([Id])
);
2025-05-16 17:46:59.919 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NULL,
    [Email] nvarchar(450) NULL,
    [PasswordHash] nvarchar(max) NULL,
    [Role] nvarchar(max) NOT NULL,
    [IsEmailConfirmed] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2025-05-16 17:46:59.929 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Title] nvarchar(150) NULL,
    [Description] nvarchar(1000) NULL,
    [Price] decimal(18,2) NOT NULL,
    [ImageUrl] nvarchar(max) NULL,
    [IsActive] bit NOT NULL,
    [CategoryId] int NULL,
    [InstructorId] int NOT NULL,
    [CreatedBy] int NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [UpdatedAt] datetime2 NULL,
    [UserId] int NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_Courses_Users_InstructorId] FOREIGN KEY ([InstructorId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Courses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2025-05-16 17:46:59.945 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Notifications] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(100) NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    [UserId] int NOT NULL,
    [SenderId] int NULL,
    [IsRead] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    [NotificationType] nvarchar(max) NOT NULL,
    [UserId1] int NULL,
    CONSTRAINT [PK_Notifications] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Notifications_Users_SenderId] FOREIGN KEY ([SenderId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Notifications_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Notifications_Users_UserId1] FOREIGN KEY ([UserId1]) REFERENCES [Users] ([Id])
);
2025-05-16 17:46:59.956 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Profiles] (
    [Id] int NOT NULL IDENTITY,
    [Bio] nvarchar(max) NULL,
    [ProfilePicture] nvarchar(max) NULL,
    [Address] nvarchar(max) NULL,
    [Phone] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Profiles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Profiles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:46:59.966 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserRefreshTokens] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [RefreshToken] nvarchar(450) NOT NULL,
    [ExpiryDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [IsUsed] bit NOT NULL,
    [IsRevoked] bit NOT NULL,
    [ExpiresIn] int NOT NULL,
    CONSTRAINT [PK_UserRefreshTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserRefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:46:59.975 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Enrollments] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_Enrollments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Enrollments_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Enrollments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-05-16 17:46:59.984 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Lessons] (
    [Id] int NOT NULL IDENTITY,
    [Title] nvarchar(200) NOT NULL,
    [Description] nvarchar(1000) NOT NULL,
    [Type] nvarchar(20) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [VideoUrl] nvarchar(max) NOT NULL,
    [PdfUrl] nvarchar(max) NOT NULL,
    [Duration] int NOT NULL,
    [IsFree] bit NOT NULL,
    [IsSequential] bit NOT NULL,
    [Order] int NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [UpdatedAt] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_Lessons] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Lessons_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:46:59.996 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Messages] (
    [Id] int NOT NULL IDENTITY,
    [SenderId] int NOT NULL,
    [CourseId] int NOT NULL,
    [Text] nvarchar(max) NULL,
    [AttachmentUrl] nvarchar(max) NULL,
    [SentAt] datetime2 NOT NULL,
    [ReplyToMessageId] int NULL,
    [IsSeen] bit NOT NULL,
    CONSTRAINT [PK_Messages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Messages_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Messages_Messages_ReplyToMessageId] FOREIGN KEY ([ReplyToMessageId]) REFERENCES [Messages] ([Id]),
    CONSTRAINT [FK_Messages_Users_SenderId] FOREIGN KEY ([SenderId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.029 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [CourseId] int NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [PaymentMethod] nvarchar(max) NULL,
    [IsSuccessful] bit NOT NULL,
    [PaidAt] datetime2 NOT NULL,
    [TransactionId] nvarchar(max) NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Payments_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Payments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.072 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [Id] int NOT NULL IDENTITY,
    [CourseId] int NOT NULL,
    [UserId] int NOT NULL,
    [Rating] int NOT NULL,
    [Comment] nvarchar(max) NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Reviews_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.108 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LessonMaterials] (
    [Id] int NOT NULL IDENTITY,
    [FileName] nvarchar(max) NOT NULL,
    [FileUrl] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [FileSize] bigint NOT NULL,
    [UploadedAt] datetime2 NOT NULL,
    [UploadedById] nvarchar(max) NOT NULL,
    [LessonId] int NOT NULL,
    CONSTRAINT [PK_LessonMaterials] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_LessonMaterials_Lessons_LessonId] FOREIGN KEY ([LessonId]) REFERENCES [Lessons] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.148 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LessonProgresses] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [IsCompleted] bit NOT NULL DEFAULT CAST(0 AS bit),
    [ProgressPercentage] int NOT NULL DEFAULT 0,
    [StartedAt] datetime2 NULL,
    [CompletedAt] datetime2 NULL,
    [TimeSpent] time NOT NULL,
    [LessonId] int NOT NULL,
    CONSTRAINT [PK_LessonProgresses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_LessonProgresses_Lessons_LessonId] FOREIGN KEY ([LessonId]) REFERENCES [Lessons] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_LessonProgresses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.197 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Quizzes] (
    [Id] int NOT NULL IDENTITY,
    [CourseId] int NOT NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [PassingScore] int NOT NULL DEFAULT 70,
    [IsMandatory] bit NOT NULL,
    [MaxAttempts] int NOT NULL,
    [TimeLimitMinutes] int NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [CreatedBy] int NOT NULL,
    [Status] int NOT NULL,
    [LessonId] int NOT NULL,
    CONSTRAINT [PK_Quizzes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Quizzes_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Quizzes_Lessons_LessonId] FOREIGN KEY ([LessonId]) REFERENCES [Lessons] ([Id]) ON DELETE NO ACTION
);
2025-05-16 17:47:00.217 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Questions] (
    [Id] int NOT NULL IDENTITY,
    [Text] nvarchar(max) NOT NULL,
    [Type] int NOT NULL,
    [Points] int NOT NULL,
    [QuizId] int NOT NULL,
    CONSTRAINT [PK_Questions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Questions_Quizzes_QuizId] FOREIGN KEY ([QuizId]) REFERENCES [Quizzes] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.240 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [QuizResults] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [Score] decimal(5,2) NOT NULL,
    [IsPassed] bit NOT NULL,
    [StartedAt] datetime2 NOT NULL,
    [CompletedAt] datetime2 NULL,
    [Status] int NOT NULL,
    [QuizId] int NOT NULL,
    CONSTRAINT [PK_QuizResults] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_QuizResults_Quizzes_QuizId] FOREIGN KEY ([QuizId]) REFERENCES [Quizzes] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_QuizResults_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);
2025-05-16 17:47:00.274 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Answers] (
    [Id] int NOT NULL IDENTITY,
    [Text] nvarchar(max) NOT NULL,
    [IsCorrect] bit NOT NULL DEFAULT CAST(0 AS bit),
    [QuestionId] int NOT NULL,
    CONSTRAINT [PK_Answers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Answers_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.289 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Choice] (
    [Id] int NOT NULL IDENTITY,
    [Text] nvarchar(max) NOT NULL,
    [IsCorrect] bit NOT NULL,
    [QuestionId] int NOT NULL,
    CONSTRAINT [PK_Choice] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Choice_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.330 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserAnswers] (
    [Id] int NOT NULL IDENTITY,
    [AnswerText] nvarchar(max) NOT NULL,
    [IsCorrect] bit NOT NULL,
    [ChoiceId] int NULL,
    [QuestionId] int NOT NULL,
    [QuizResultId] int NOT NULL,
    [AnswerId] int NOT NULL,
    CONSTRAINT [PK_UserAnswers] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserAnswers_Answers_AnswerId] FOREIGN KEY ([AnswerId]) REFERENCES [Answers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserAnswers_Choice_ChoiceId] FOREIGN KEY ([ChoiceId]) REFERENCES [Choice] ([Id]),
    CONSTRAINT [FK_UserAnswers_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserAnswers_QuizResults_QuizResultId] FOREIGN KEY ([QuizResultId]) REFERENCES [QuizResults] ([Id]) ON DELETE CASCADE
);
2025-05-16 17:47:00.800 +03:00 [INF] Executed DbCommand (445ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Answers_QuestionId] ON [Answers] ([QuestionId]);
2025-05-16 17:47:00.823 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Choice_QuestionId] ON [Choice] ([QuestionId]);
2025-05-16 17:47:00.843 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Courses_CategoryId] ON [Courses] ([CategoryId]);
2025-05-16 17:47:01.206 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Courses_InstructorId] ON [Courses] ([InstructorId]);
2025-05-16 17:47:01.295 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Courses_IsActive] ON [Courses] ([IsActive]);
2025-05-16 17:47:01.374 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Courses_Title] ON [Courses] ([Title]);
2025-05-16 17:47:01.514 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Courses_UserId] ON [Courses] ([UserId]);
2025-05-16 17:47:01.536 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_EmailConfirmationCodes_Email] ON [EmailConfirmationCodes] ([Email]);
2025-05-16 17:47:01.560 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Enrollments_CourseId] ON [Enrollments] ([CourseId]);
2025-05-16 17:47:01.570 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Enrollments_UserId] ON [Enrollments] ([UserId]);
2025-05-16 17:47:01.588 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_LessonMaterials_LessonId] ON [LessonMaterials] ([LessonId]);
2025-05-16 17:47:01.603 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_LessonProgresses_LessonId] ON [LessonProgresses] ([LessonId]);
2025-05-16 17:47:01.610 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_LessonProgresses_UserId] ON [LessonProgresses] ([UserId]);
2025-05-16 17:47:01.628 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Lessons_CourseId_Order] ON [Lessons] ([CourseId], [Order]);
2025-05-16 17:47:01.655 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Messages_CourseId] ON [Messages] ([CourseId]);
2025-05-16 17:47:01.666 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Messages_ReplyToMessageId] ON [Messages] ([ReplyToMessageId]);
2025-05-16 17:47:01.677 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Messages_SenderId] ON [Messages] ([SenderId]);
2025-05-16 17:47:01.686 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notifications_SenderId] ON [Notifications] ([SenderId]);
2025-05-16 17:47:01.708 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notifications_UserId] ON [Notifications] ([UserId]);
2025-05-16 17:47:01.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Notifications_UserId1] ON [Notifications] ([UserId1]);
2025-05-16 17:47:01.742 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PasswordResetCodes_Email] ON [PasswordResetCodes] ([Email]);
2025-05-16 17:47:01.760 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Payments_CourseId] ON [Payments] ([CourseId]);
2025-05-16 17:47:01.778 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Payments_UserId] ON [Payments] ([UserId]);
2025-05-16 17:47:01.791 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Profiles_UserId] ON [Profiles] ([UserId]);
2025-05-16 17:47:01.803 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Questions_QuizId] ON [Questions] ([QuizId]);
2025-05-16 17:47:01.809 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_QuizResults_QuizId_UserId_CompletedAt] ON [QuizResults] ([QuizId], [UserId], [CompletedAt]);
2025-05-16 17:47:01.816 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_QuizResults_UserId] ON [QuizResults] ([UserId]);
2025-05-16 17:47:01.828 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Quizzes_CourseId] ON [Quizzes] ([CourseId]);
2025-05-16 17:47:01.833 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Quizzes_LessonId] ON [Quizzes] ([LessonId]);
2025-05-16 17:47:01.841 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_CourseId] ON [Reviews] ([CourseId]);
2025-05-16 17:47:01.850 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_UserId] ON [Reviews] ([UserId]);
2025-05-16 17:47:01.861 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswers_AnswerId] ON [UserAnswers] ([AnswerId]);
2025-05-16 17:47:01.869 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswers_ChoiceId] ON [UserAnswers] ([ChoiceId]);
2025-05-16 17:47:01.898 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswers_QuestionId] ON [UserAnswers] ([QuestionId]);
2025-05-16 17:47:01.912 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserAnswers_QuizResultId] ON [UserAnswers] ([QuizResultId]);
2025-05-16 17:47:01.923 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_UserRefreshTokens_RefreshToken] ON [UserRefreshTokens] ([RefreshToken]);
2025-05-16 17:47:01.940 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserRefreshTokens_UserId] ON [UserRefreshTokens] ([UserId]);
2025-05-16 17:47:01.964 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]) WHERE [Email] IS NOT NULL;
2025-05-16 17:47:01.986 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_IsActive] ON [Users] ([IsActive]);
2025-05-16 17:47:02.035 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250516144628_FixCategoryForeignKey', N'8.0.0');
2025-05-16 17:47:34.405 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 17:47:34.884 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 17:47:36.950 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 17:47:38.035 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 17:47:38.190 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 17:47:38.202 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 17:47:38.268 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-16 17:47:38.326 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-05-16 17:47:41.136 +03:00 [INF] Executed DbCommand (643ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 17:47:44.805 +03:00 [INF] Executed DbCommand (215ms) [Parameters=[@p0='2025-05-16T14:47:42.5643048Z', @p1='admin@elearning.com' (Size = 450), @p2='مدير النظام' (Size = 4000), @p3='True', @p4='True', @p5='$2a$11$wpOEqQ6NOwOZQgFaIyoi8uEkk8PE49p1hrQWmHe3xxpgcBvfk6JL.' (Size = 4000), @p6='Admin' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2), @p8='2025-05-16T14:47:43.0957606Z', @p9='instructor@elearning.com' (Size = 450), @p10='مدرس نموذجي' (Size = 4000), @p11='True', @p12='True', @p13='$2a$11$s3KYNH.FmwEPBFFBnjTchedhpkA3s1JyMHNzprdYH3AjEvEFCFc4.' (Size = 4000), @p14='Instructor' (Nullable = false) (Size = 4000), @p15=NULL (DbType = DateTime2), @p16='2025-05-16T14:47:43.5050498Z', @p17='student@elearning.com' (Size = 450), @p18='طالب نموذجي' (Size = 4000), @p19='True', @p20='True', @p21='$2a$11$oZ/dGieeTTnWsj9mBLEKm.lWMgCDaipYQTZSBsHBUk4sKjmZheNgC' (Size = 4000), @p22='Student' (Nullable = false) (Size = 4000), @p23=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Users] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2)) AS i ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
VALUES (i.[CreatedAt], i.[Email], i.[FullName], i.[IsActive], i.[IsEmailConfirmed], i.[PasswordHash], i.[Role], i.[UpdatedAt])
OUTPUT INSERTED.[Id], i._Position;
2025-05-16 17:47:45.094 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Courses] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 17:47:45.293 +03:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Role] = N'Instructor') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 17:47:45.533 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Role] = N'Instructor'
2025-05-16 17:47:45.942 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@p0=NULL (DbType = Int32), @p1='2025-05-16T14:47:45.5525231Z', @p2='0', @p3='تعلم أساسيات البرمجة للمبتدئين' (Size = 1000), @p4=NULL (Size = 4000), @p5='2', @p6='True', @p7='دورة البرمجة الأساسية' (Nullable = false) (Size = 100), @p8='0' (Precision = 18) (Scale = 2), @p9='دورة البرمجة الأساسية' (Size = 150), @p10=NULL (DbType = DateTime2), @p11=NULL (DbType = Int32), @p12=NULL (DbType = Int32), @p13='2025-05-16T14:47:45.5525885Z', @p14='0', @p15='دورة متقدمة لتعلم تطوير الويب باستخدام ASP.NET Core' (Size = 1000), @p16=NULL (Size = 4000), @p17='2', @p18='True', @p19=' ASP.NET Core' (Nullable = false) (Size = 100), @p20='100' (Precision = 18) (Scale = 2), @p21='تعلم ASP.NET Core' (Size = 150), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Courses] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 1)) AS i ([CategoryId], [CreatedAt], [CreatedBy], [Description], [ImageUrl], [InstructorId], [IsActive], [Name], [Price], [Title], [UpdatedAt], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CategoryId], [CreatedAt], [CreatedBy], [Description], [ImageUrl], [InstructorId], [IsActive], [Name], [Price], [Title], [UpdatedAt], [UserId])
VALUES (i.[CategoryId], i.[CreatedAt], i.[CreatedBy], i.[Description], i.[ImageUrl], i.[InstructorId], i.[IsActive], i.[Name], i.[Price], i.[Title], i.[UpdatedAt], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
2025-05-16 17:47:46.134 +03:00 [INF] Database updated successfully
2025-05-16 17:47:46.940 +03:00 [INF] Starting application...
2025-05-16 17:47:47.035 +03:00 [INF] User profile is available. Using 'C:\Users\ta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 17:47:47.643 +03:00 [INF] Now listening on: https://localhost:7056
2025-05-16 17:47:47.651 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-16 17:47:47.657 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 17:47:47.659 +03:00 [INF] Hosting environment: Development
2025-05-16 17:47:47.666 +03:00 [INF] Content root path: C:\Users\ta\OneDrive\Desktop\e_learning
2025-05-16 17:47:48.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger/index.html - null null
2025-05-16 17:47:48.606 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger/index.html - 200 null text/html;charset=utf-8 523.7462ms
2025-05-16 17:47:48.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - null null
2025-05-16 17:47:49.034 +03:00 [INF] HTTP GET /swagger-ui/custom.css responded 404 in 145.8199 ms
2025-05-16 17:47:49.040 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - 404 0 null 410.5932ms
2025-05-16 17:47:49.117 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7056/swagger-ui/custom.css, Response status code: 404
2025-05-16 17:47:49.269 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger/v1/swagger.json - null null
2025-05-16 17:47:49.884 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 615.1465ms
2025-05-16 17:48:40.890 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 108
2025-05-16 17:48:40.912 +03:00 [INF] CORS policy execution failed.
2025-05-16 17:48:40.917 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 17:48:40.940 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 17:48:40.951 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 17:48:41.034 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 17:48:41.380 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 17:48:41.831 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='2025-05-16T14:48:41.7300307Z', @p1='abdomoka2018@gmail.com' (Size = 450), @p2='Abdo' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$XSKowlyGpwQLTewzDlbpQeEk2jIbfR6wIlWgvL8/oAgzfISvuoxd2' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 17:48:41.936 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 17:48:42.052 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='274078' (Nullable = false) (Size = 6), @p1='2025-05-16T14:48:41.9624029Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T14:58:41.9623219Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 17:48:49.632 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 17:48:49.634 +03:00 [INF] New user registered - ID: 4
2025-05-16 17:48:49.655 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 17:48:49.704 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 8628.2345ms
2025-05-16 17:48:49.706 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 17:48:49.711 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 8816.2541 ms
2025-05-16 17:48:49.729 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 8838.3864ms
2025-05-16 17:49:55.295 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 39
2025-05-16 17:49:55.332 +03:00 [INF] CORS policy execution failed.
2025-05-16 17:49:55.344 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 17:49:55.349 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 17:49:55.358 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 17:49:55.376 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 17:49:55.451 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__ToLower_0
2025-05-16 17:49:55.533 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 17:49:55.611 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 17:49:55.629 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 17:49:55.646 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='993710' (Nullable = false) (Size = 6), @p1='2025-05-16T14:49:55.6342017Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T14:59:55.6342003Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 17:50:02.854 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 17:50:02.856 +03:00 [INF] Confirmation code resent successfully to: abdomoka2018@gmail.com
2025-05-16 17:50:02.859 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 17:50:02.867 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 7486.3867ms
2025-05-16 17:50:02.872 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 17:50:02.874 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 200 in 7549.5199 ms
2025-05-16 17:50:02.881 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 200 null application/json; charset=utf-8 7586.181ms
2025-05-16 17:50:42.020 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/confirm-email - application/json 59
2025-05-16 17:50:42.023 +03:00 [INF] CORS policy execution failed.
2025-05-16 17:50:42.025 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 17:50:42.026 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 17:50:42.028 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ConfirmEmail (e_learning)'
2025-05-16 17:50:42.047 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(e_learning.DTOs.ConfirmEmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 17:50:42.127 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0 AND [e].[ExpiryDate] > GETUTCDATE()
ORDER BY [e].[ExpiryDate] DESC
2025-05-16 17:50:42.155 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 17:50:42.177 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='4', @p0='True'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsEmailConfirmed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-05-16 17:50:42.191 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 17:50:42.205 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 17:50:42.210 +03:00 [INF] Email confirmed for: abdomoka2018@gmail.com
2025-05-16 17:50:42.211 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 17:50:42.213 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ConfirmEmail (e_learning) in 159.6301ms
2025-05-16 17:50:42.218 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ConfirmEmail (e_learning)'
2025-05-16 17:50:42.219 +03:00 [INF] HTTP POST /api/Auth/confirm-email responded 200 in 195.9856 ms
2025-05-16 17:50:42.223 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/confirm-email - 200 null application/json; charset=utf-8 202.579ms
2025-05-16 17:51:07.479 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 65
2025-05-16 17:51:07.574 +03:00 [INF] CORS policy execution failed.
2025-05-16 17:51:07.578 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 17:51:07.592 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 17:51:07.593 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 17:51:07.622 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 17:51:07.723 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 17:51:08.288 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='2025-05-16T14:51:08.1909764Z', @p1='0', @p2='2025-05-23T14:51:08.1907971Z', @p3='False', @p4='False', @p5='xLIFLAu93FG7RRSTxhzaOmSkvrcdW2jZx3k1nLbVCOI=' (Nullable = false) (Size = 450), @p6='4'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 17:51:08.325 +03:00 [INF] Successful login for: abdomoka2018@gmail.com
2025-05-16 17:51:08.327 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 17:51:08.345 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 688.7051ms
2025-05-16 17:51:08.350 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 17:51:08.355 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 780.6280 ms
2025-05-16 17:51:08.361 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 881.5794ms
2025-05-16 17:51:43.102 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 511
2025-05-16 17:51:43.105 +03:00 [INF] CORS policy execution failed.
2025-05-16 17:51:43.107 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 17:51:43.109 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 17:51:43.110 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 17:51:43.152 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 17:51:43.597 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__request_RefreshToken_0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwianRpIjoiMWE0NDlkZDEtZTA2YS00Yzc5LWIzOGQtYzE2OTI3YzRjMjdhIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiI0IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZW1haWxhZGRyZXNzIjoiYWJkb21va2EyMDE4QGdtYWlsLmNvbSIsImV4cCI6MTc0NzQwNzA2OCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzA1NiIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcwNTYifQ.v9cFpFCcxcYUH33fUR43ERW6px7Jf4MAXYAynT0Vprc' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 17:51:43.618 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 17:51:43.620 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 446.4925ms
2025-05-16 17:51:43.622 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 17:51:43.623 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 401 in 518.7767 ms
2025-05-16 17:51:43.634 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 401 null application/json; charset=utf-8 531.1898ms
2025-05-16 17:54:40.971 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/logout - null 0
2025-05-16 17:54:40.974 +03:00 [INF] CORS policy execution failed.
2025-05-16 17:54:40.976 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 17:54:40.977 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 17:54:41.024 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-16 17:54:41.033 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-16 17:54:41.034 +03:00 [INF] HTTP POST /api/Auth/logout responded 401 in 59.9630 ms
2025-05-16 17:54:41.036 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/logout - 401 0 null 64.9634ms
2025-05-16 17:55:11.085 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/logout - null 0
2025-05-16 17:55:11.097 +03:00 [INF] CORS policy execution failed.
2025-05-16 17:55:11.143 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 17:55:11.144 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 17:55:11.198 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 2:51:08 PM', Current time (UTC): '5/16/2025 2:55:11 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 17:55:11.243 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 2:51:08 PM', Current time (UTC): '5/16/2025 2:55:11 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 17:55:11.249 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 2:51:08 PM', Current time (UTC): '5/16/2025 2:55:11 PM'.
2025-05-16 17:55:11.253 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-16 17:55:11.258 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-16 17:55:11.262 +03:00 [INF] HTTP POST /api/Auth/logout responded 401 in 165.5693 ms
2025-05-16 17:55:11.265 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/logout - 401 0 null 179.2715ms
2025-05-16 17:58:10.683 +03:00 [INF] Application is shutting down...
2025-05-16 18:00:04.704 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 18:00:05.974 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 18:00:14.802 +03:00 [INF] Executed DbCommand (384ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 18:00:16.038 +03:00 [INF] Executed DbCommand (227ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 18:00:16.057 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 18:00:16.075 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 18:00:16.239 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-16 18:00:16.658 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-05-16 18:00:17.242 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 18:00:17.311 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Courses] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 18:00:17.329 +03:00 [INF] Database updated successfully
2025-05-16 18:00:17.702 +03:00 [INF] Starting application...
2025-05-16 18:00:17.838 +03:00 [INF] User profile is available. Using 'C:\Users\ta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 18:00:18.195 +03:00 [INF] Now listening on: https://localhost:7056
2025-05-16 18:00:18.208 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-16 18:00:18.216 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 18:00:18.219 +03:00 [INF] Hosting environment: Development
2025-05-16 18:00:18.221 +03:00 [INF] Content root path: C:\Users\ta\OneDrive\Desktop\e_learning
2025-05-16 18:00:18.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger/index.html - null null
2025-05-16 18:00:18.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger/index.html - 200 null text/html;charset=utf-8 204.3607ms
2025-05-16 18:00:18.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - null null
2025-05-16 18:00:18.920 +03:00 [INF] HTTP GET /swagger-ui/custom.css responded 404 in 125.5713 ms
2025-05-16 18:00:18.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - 404 0 null 190.3398ms
2025-05-16 18:00:18.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger/index.html - null null
2025-05-16 18:00:19.169 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger/v1/swagger.json - null null
2025-05-16 18:00:19.228 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7056/swagger-ui/custom.css, Response status code: 404
2025-05-16 18:00:19.240 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger/index.html - 200 null text/html;charset=utf-8 264.5813ms
2025-05-16 18:00:19.287 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - null null
2025-05-16 18:00:19.357 +03:00 [INF] HTTP GET /swagger-ui/custom.css responded 404 in 4.2947 ms
2025-05-16 18:00:19.360 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - 404 0 null 73.1884ms
2025-05-16 18:00:19.370 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7056/swagger-ui/custom.css, Response status code: 404
2025-05-16 18:00:19.542 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger/v1/swagger.json - null null
2025-05-16 18:00:19.981 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 811.7223ms
2025-05-16 18:00:19.985 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 442.915ms
2025-05-16 18:00:27.746 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 65
2025-05-16 18:00:30.784 +03:00 [INF] CORS policy execution failed.
2025-05-16 18:00:31.225 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 18:00:31.240 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:00:31.249 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 18:00:31.306 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 18:00:32.372 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 18:00:33.490 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='2025-05-16T15:00:32.9507338Z', @p1='0', @p2='2025-05-23T15:00:32.9495613Z', @p3='False', @p4='False', @p5='GkAKuRNXqAPKkb4Cs7K2wukdiUveZHu28AAIiH1qj3s=' (Nullable = false) (Size = 450), @p6='4'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 18:00:33.626 +03:00 [INF] Successful login for: abdomoka2018@gmail.com
2025-05-16 18:00:33.649 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 18:00:33.813 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 2141.432ms
2025-05-16 18:00:33.818 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 18:00:33.822 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 3040.6941 ms
2025-05-16 18:00:33.864 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 6118.1008ms
2025-05-16 18:01:05.333 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 511
2025-05-16 18:01:05.439 +03:00 [INF] CORS policy execution failed.
2025-05-16 18:01:05.441 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 18:01:05.454 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:01:05.587 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:01:05 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 18:01:05.622 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:01:05 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 18:01:05.629 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:01:05 PM'.
2025-05-16 18:01:05.639 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 18:01:05.662 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 18:01:05.973 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_RefreshToken_0='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwianRpIjoiNjEzMDg3ZTctZTU2MS00YzY1LWIwMWEtM2ZiZDEwYTJhY2M2IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiI0IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZW1haWxhZGRyZXNzIjoiYWJkb21va2EyMDE4QGdtYWlsLmNvbSIsImV4cCI6MTc0NzQwNzYzMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzA1NiIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcwNTYifQ.qTG8soE9oIqtP4G3Hk1EODjS_Xbn3X4gitgLkCvQ8lI' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 18:01:06.046 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 18:01:06.054 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 381.1997ms
2025-05-16 18:01:06.062 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 18:01:06.065 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 401 in 643.4976 ms
2025-05-16 18:01:06.134 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 401 null application/json; charset=utf-8 801.6038ms
2025-05-16 18:02:59.344 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 526
2025-05-16 18:02:59.348 +03:00 [INF] CORS policy execution failed.
2025-05-16 18:02:59.351 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 18:02:59.353 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:02:59.358 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:02:59 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 18:02:59.428 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:02:59 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 18:02:59.437 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:02:59 PM'.
2025-05-16 18:02:59.439 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 18:02:59.441 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 18:02:59.490 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_RefreshToken_0='refresh_token_eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwianRpIjoiNjEzMDg3ZTctZTU2MS00YzY1LWIwMWEtM2ZiZDEwYTJhY2M2IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiI0IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZW1haWxhZGRyZXNzIjoiYWJkb21va2EyMDE4QGdtYWlsLmNvbSIsImV4cCI6MTc0NzQwNzYzMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NzA1NiIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjcwNTYifQ.qTG8soE9oIqtP4G3Hk1EODjS_Xbn3X4gitgLkCvQ8lI' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 18:02:59.505 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 18:02:59.507 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 63.248ms
2025-05-16 18:02:59.510 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 18:02:59.512 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 401 in 163.3095 ms
2025-05-16 18:02:59.519 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 401 null application/json; charset=utf-8 175.3406ms
2025-05-16 18:07:22.160 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 69
2025-05-16 18:07:22.163 +03:00 [INF] CORS policy execution failed.
2025-05-16 18:07:22.165 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 18:07:22.168 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:07:22.170 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:07:22 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 18:07:22.174 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:07:22 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 18:07:22.220 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:00:32 PM', Current time (UTC): '5/16/2025 3:07:22 PM'.
2025-05-16 18:07:22.222 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 18:07:22.235 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 18:07:22.274 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_RefreshToken_0='GkAKuRNXqAPKkb4Cs7K2wukdiUveZHu28AAIiH1qj3s=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 18:07:22.476 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p7='2', @p0='2025-05-16T15:00:32.9507338', @p1='0', @p2='2025-05-23T15:00:32.9495613', @p3='False', @p4='True', @p5='GkAKuRNXqAPKkb4Cs7K2wukdiUveZHu28AAIiH1qj3s=' (Nullable = false) (Size = 450), @p6='4', @p8='2025-05-16T15:07:22.3855293Z', @p9='0', @p10='2025-05-23T15:07:22.3853813Z', @p11='False', @p12='False', @p13='IjPhGgXGmFlgzxKkrZIrQrQW2LQvK3d7uPepiHIRnyM=' (Nullable = false) (Size = 450), @p14='4'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 18:07:22.504 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 18:07:22.508 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 269.1085ms
2025-05-16 18:07:22.511 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 18:07:22.513 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 349.5235 ms
2025-05-16 18:07:22.516 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 355.5758ms
2025-05-16 18:08:28.079 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/logout - application/json 68
2025-05-16 18:08:28.118 +03:00 [INF] CORS policy execution failed.
2025-05-16 18:08:28.130 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 18:08:28.131 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:08:28.133 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:07:22 PM', Current time (UTC): '5/16/2025 3:08:28 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 18:08:28.143 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:07:22 PM', Current time (UTC): '5/16/2025 3:08:28 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 18:08:28.146 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:07:22 PM', Current time (UTC): '5/16/2025 3:08:28 PM'.
2025-05-16 18:08:28.148 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Logout (e_learning)'
2025-05-16 18:08:28.159 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(e_learning.DTOs.LogoutRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 18:08:28.197 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_RefreshToken_0='IjPhGgXGmFlgzxKkrZIrQrQW2LQvK3d7uPepiHIRnyM=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 18:08:28.350 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[UserId] = @__userId_0 AND [u].[IsUsed] = CAST(0 AS bit)
2025-05-16 18:08:28.508 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p1='1', @p0='True', @p3='3', @p2='True'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [IsUsed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [UserRefreshTokens] SET [IsUsed] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-05-16 18:08:28.533 +03:00 [INF] User 4 logged out successfully
2025-05-16 18:08:28.539 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 18:08:28.541 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Logout (e_learning) in 378.2848ms
2025-05-16 18:08:28.547 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Logout (e_learning)'
2025-05-16 18:08:28.549 +03:00 [INF] HTTP POST /api/Auth/logout responded 200 in 431.7998 ms
2025-05-16 18:08:28.561 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/logout - 200 null application/json; charset=utf-8 482.6028ms
2025-05-16 18:20:32.083 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - null null
2025-05-16 18:20:32.094 +03:00 [INF] CORS policy execution successful.
2025-05-16 18:20:32.098 +03:00 [INF] HTTP OPTIONS /api/Auth/register responded 204 in 4.8494 ms
2025-05-16 18:20:32.102 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - 204 null null 18.845ms
2025-05-16 18:20:32.115 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 88
2025-05-16 18:20:32.120 +03:00 [INF] CORS policy execution successful.
2025-05-16 18:20:32.124 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:20:32.127 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 18:20:32.134 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 18:20:32.196 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__dto_Email_0='ahhm9570@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 18:20:32.468 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='2025-05-16T15:20:32.4470046Z', @p1='ahhm9570@gmail.com' (Size = 450), @p2='Ahmed' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$51lkbvHgUtRRY3AA5ElEee5dnVpR4SjkHg.rPG7N1zvcf31eWxE0e' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 18:20:32.516 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='ahhm9570@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 18:20:32.566 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='127329' (Nullable = false) (Size = 6), @p1='2025-05-16T15:20:32.5272051Z', @p2='ahhm9570@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T15:30:32.5271269Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 18:20:35.464 +03:00 [INF] Email sent to ahhm9570@gmail.com
2025-05-16 18:20:35.466 +03:00 [INF] New user registered - ID: 5
2025-05-16 18:20:35.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 18:20:35.477 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 3338.0685ms
2025-05-16 18:20:35.479 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 18:20:35.481 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 3361.1337 ms
2025-05-16 18:20:35.485 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 3369.6462ms
2025-05-16 18:25:59.298 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 88
2025-05-16 18:25:59.302 +03:00 [INF] CORS policy execution successful.
2025-05-16 18:25:59.304 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:25:59.305 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 18:25:59.307 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 18:25:59.339 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__dto_Email_0='ahhm9570@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 18:25:59.350 +03:00 [WRN] Attempt to register existing email: ahhm9570@gmail.com
2025-05-16 18:25:59.352 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 18:25:59.354 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 38.0407ms
2025-05-16 18:25:59.356 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 18:25:59.363 +03:00 [INF] HTTP POST /api/Auth/register responded 409 in 56.4766 ms
2025-05-16 18:25:59.369 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 409 null application/json; charset=utf-8 70.6307ms
2025-05-16 18:28:04.646 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/api/Auth/confirm-email - null null
2025-05-16 18:28:04.658 +03:00 [INF] CORS policy execution successful.
2025-05-16 18:28:04.660 +03:00 [INF] HTTP OPTIONS /api/api/Auth/confirm-email responded 204 in 1.5007 ms
2025-05-16 18:28:04.662 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/api/Auth/confirm-email - 204 null null 16.5824ms
2025-05-16 18:28:04.666 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - application/json 46
2025-05-16 18:28:04.674 +03:00 [INF] CORS policy execution successful.
2025-05-16 18:28:04.675 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:28:04.676 +03:00 [INF] HTTP POST /api/api/Auth/confirm-email responded 404 in 2.1831 ms
2025-05-16 18:28:04.678 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - 404 0 null 11.3014ms
2025-05-16 18:28:04.687 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/api/Auth/confirm-email, Response status code: 404
2025-05-16 18:54:14.267 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - null null
2025-05-16 18:54:14.283 +03:00 [INF] CORS policy execution successful.
2025-05-16 18:54:14.287 +03:00 [INF] HTTP OPTIONS /api/Auth/register responded 204 in 6.9008 ms
2025-05-16 18:54:14.290 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - 204 null null 24.4021ms
2025-05-16 18:54:14.304 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 18:54:14.309 +03:00 [INF] CORS policy execution successful.
2025-05-16 18:54:14.312 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 18:54:14.317 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 18:54:14.320 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 18:54:14.456 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__dto_Email_0='malaknasr544@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 18:54:14.754 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='2025-05-16T15:54:14.7030575Z', @p1='malaknasr544@gmail.com' (Size = 450), @p2='malak' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$BsmlaIteG1KQrrub.KhG/.5Ep80sLO8ciVrww/YuJP/pIAm1UZlhW' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 18:54:14.801 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__ToLower_0='malaknasr544@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 18:54:14.838 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='168540' (Nullable = false) (Size = 6), @p1='2025-05-16T15:54:14.8160567Z', @p2='malaknasr544@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T16:04:14.8160557Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 18:54:17.404 +03:00 [INF] Email sent to malaknasr544@gmail.com
2025-05-16 18:54:17.407 +03:00 [INF] New user registered - ID: 6
2025-05-16 18:54:17.411 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 18:54:17.416 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 3093.2743ms
2025-05-16 18:54:17.420 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 18:54:17.421 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 3112.5438 ms
2025-05-16 18:54:17.428 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 3124.3256ms
2025-05-16 19:28:34.102 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - null null
2025-05-16 19:28:34.125 +03:00 [INF] CORS policy execution successful.
2025-05-16 19:28:34.130 +03:00 [INF] HTTP OPTIONS /api/Auth/register responded 204 in 8.8748 ms
2025-05-16 19:28:34.135 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - 204 null null 35.6038ms
2025-05-16 19:28:34.144 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 96
2025-05-16 19:28:34.149 +03:00 [INF] CORS policy execution successful.
2025-05-16 19:28:34.153 +03:00 [INF] No CORS policy found for the specified request.
2025-05-16 19:28:34.159 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 19:28:34.171 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 19:28:34.308 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__dto_Email_0='malaknasr544@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 19:28:34.625 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='2025-05-16T16:28:34.5982354Z', @p1='malaknasr544@gmail.com' (Size = 450), @p2='ملك' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$AryhkXL16bSXJDTc3BunVuMxf5aT0WFSUjmwJxlb3i9/3AdKTThWO' (Size = 4000), @p6='Instructor' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 19:28:34.657 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='malaknasr544@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 19:28:34.790 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='4'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 19:28:34.855 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='499252' (Nullable = false) (Size = 6), @p1='2025-05-16T16:28:34.8346399Z', @p2='malaknasr544@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T16:38:34.8346384Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 19:28:37.858 +03:00 [INF] Email sent to malaknasr544@gmail.com
2025-05-16 19:28:37.859 +03:00 [INF] New user registered - ID: 7
2025-05-16 19:28:37.864 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 19:28:37.868 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 3694.313ms
2025-05-16 19:28:37.870 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 19:28:37.872 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 3723.8615 ms
2025-05-16 19:28:37.877 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 3732.7682ms
2025-05-16 19:48:30.962 +03:00 [INF] Application is shutting down...
2025-05-16 19:48:47.704 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 19:48:47.867 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 19:48:48.913 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 19:48:49.024 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 19:48:49.041 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 19:48:49.052 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 19:48:49.094 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-16 19:48:49.135 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-05-16 19:48:49.656 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 19:48:49.709 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Courses] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 19:48:49.730 +03:00 [INF] Database updated successfully
2025-05-16 19:48:50.007 +03:00 [INF] Starting application...
2025-05-16 19:48:50.028 +03:00 [INF] User profile is available. Using 'C:\Users\ta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 19:48:50.370 +03:00 [INF] Now listening on: https://localhost:7056
2025-05-16 19:48:50.376 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-16 19:48:50.385 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 19:48:50.387 +03:00 [INF] Hosting environment: Development
2025-05-16 19:48:50.390 +03:00 [INF] Content root path: C:\Users\ta\OneDrive\Desktop\e_learning
2025-05-16 19:48:57.538 +03:00 [INF] Application is shutting down...
2025-05-16 19:49:17.005 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 19:49:17.145 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 19:49:18.650 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 19:49:18.820 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 19:49:18.844 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 19:49:18.936 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 19:49:19.060 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-16 19:49:19.105 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-05-16 19:49:19.579 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 19:49:19.631 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Courses] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 19:49:19.650 +03:00 [INF] Database updated successfully
2025-05-16 19:49:20.003 +03:00 [INF] Starting application...
2025-05-16 19:49:20.029 +03:00 [INF] User profile is available. Using 'C:\Users\ta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 19:49:20.353 +03:00 [INF] Now listening on: https://localhost:7056
2025-05-16 19:49:20.356 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-16 19:49:20.363 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 19:49:20.365 +03:00 [INF] Hosting environment: Development
2025-05-16 19:49:20.367 +03:00 [INF] Content root path: C:\Users\ta\OneDrive\Desktop\e_learning
2025-05-16 19:49:26.084 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-05-16 19:49:26.295 +03:00 [INF] HTTP GET / responded 307 in 4.9284 ms
2025-05-16 19:49:26.310 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 307 0 null 230.5002ms
2025-05-16 19:49:26.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/ - null null
2025-05-16 19:49:26.639 +03:00 [INF] HTTP GET / responded 404 in 130.0260 ms
2025-05-16 19:49:26.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/ - 404 0 null 146.8571ms
2025-05-16 19:49:26.782 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7056/, Response status code: 404
2025-05-16 19:49:54.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-05-16 19:49:54.969 +03:00 [INF] HTTP GET / responded 307 in 1.8895 ms
2025-05-16 19:49:54.978 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 307 0 null 20.1953ms
2025-05-16 19:49:54.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/ - null null
2025-05-16 19:49:55.000 +03:00 [INF] HTTP GET / responded 404 in 2.8109 ms
2025-05-16 19:49:55.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/ - 404 0 null 12.9986ms
2025-05-16 19:49:55.012 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7056/, Response status code: 404
2025-05-16 19:49:59.592 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - null null
2025-05-16 19:49:59.747 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 154.9806ms
2025-05-16 19:49:59.809 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger-ui/custom.css - null null
2025-05-16 19:49:59.836 +03:00 [INF] HTTP GET /swagger-ui/custom.css responded 307 in 0.0466 ms
2025-05-16 19:49:59.839 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger-ui/custom.css - 307 0 null 30.1936ms
2025-05-16 19:49:59.871 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - null null
2025-05-16 19:49:59.909 +03:00 [INF] HTTP GET /swagger-ui/custom.css responded 404 in 8.6737 ms
2025-05-16 19:49:59.911 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - 404 0 null 39.6896ms
2025-05-16 19:49:59.924 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7056/swagger-ui/custom.css, Response status code: 404
2025-05-16 19:50:00.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-05-16 19:50:00.696 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 556.9495ms
2025-05-16 19:50:49.456 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login - application/json 73
2025-05-16 19:50:49.459 +03:00 [INF] HTTP POST /api/Auth/login responded 307 in 0.0625 ms
2025-05-16 19:50:49.461 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login - 307 0 null 4.6726ms
2025-05-16 19:50:49.532 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - null null
2025-05-16 19:50:49.544 +03:00 [INF] CORS policy execution failed.
2025-05-16 19:50:49.550 +03:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-05-16 19:50:49.554 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 16.2589 ms
2025-05-16 19:50:49.557 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - 204 null null 24.7928ms
2025-05-16 19:52:02.710 +03:00 [INF] Application is shutting down...
2025-05-16 19:52:13.048 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 19:52:13.198 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 19:52:13.816 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 19:52:13.890 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 19:52:13.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 19:52:13.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 19:52:13.941 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-16 19:52:13.970 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-05-16 19:52:14.300 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 19:52:14.357 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Courses] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 19:52:14.374 +03:00 [INF] Database updated successfully
2025-05-16 19:52:14.547 +03:00 [INF] Starting application...
2025-05-16 19:52:14.566 +03:00 [INF] User profile is available. Using 'C:\Users\ta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 19:52:14.734 +03:00 [INF] Now listening on: https://localhost:7056
2025-05-16 19:52:14.737 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-16 19:52:14.740 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 19:52:14.742 +03:00 [INF] Hosting environment: Development
2025-05-16 19:52:14.743 +03:00 [INF] Content root path: C:\Users\ta\OneDrive\Desktop\e_learning
2025-05-16 19:54:34.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger/index.html - null null
2025-05-16 19:54:34.349 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger/index.html - 200 null text/html;charset=utf-8 182.7719ms
2025-05-16 19:54:34.448 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - null null
2025-05-16 19:54:34.655 +03:00 [INF] HTTP GET /swagger-ui/custom.css responded 404 in 127.4446 ms
2025-05-16 19:54:34.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger-ui/custom.css - 404 0 null 215.4765ms
2025-05-16 19:54:34.707 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7056/swagger-ui/custom.css, Response status code: 404
2025-05-16 19:54:34.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7056/swagger/v1/swagger.json - null null
2025-05-16 19:54:35.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7056/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 542.9346ms
2025-05-16 20:00:18.946 +03:00 [INF] Application is shutting down...
2025-05-16 20:01:27.802 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-05-16 20:01:28.002 +03:00 [WRN] The foreign key property 'Notification.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-05-16 20:01:29.428 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 20:01:29.535 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 20:01:29.558 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-16 20:01:29.579 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-16 20:01:29.628 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-16 20:01:29.670 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-05-16 20:01:30.117 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:01:30.157 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Courses] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:01:30.200 +03:00 [INF] Database updated successfully
2025-05-16 20:01:30.512 +03:00 [INF] Starting application...
2025-05-16 20:01:30.556 +03:00 [INF] User profile is available. Using 'C:\Users\ta\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-16 20:01:30.870 +03:00 [INF] Now listening on: https://localhost:7056
2025-05-16 20:01:30.878 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-16 20:01:30.886 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-16 20:01:30.890 +03:00 [INF] Hosting environment: Development
2025-05-16 20:01:30.891 +03:00 [INF] Content root path: C:\Users\ta\OneDrive\Desktop\e_learning
2025-05-16 20:04:40.083 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - null null
2025-05-16 20:04:40.181 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:04:40.190 +03:00 [INF] HTTP OPTIONS /api/Auth/register responded 204 in 63.8709 ms
2025-05-16 20:04:40.198 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - 204 null null 118.8526ms
2025-05-16 20:04:40.218 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 91
2025-05-16 20:04:40.232 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:04:40.296 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:04:40.337 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:04:40.626 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__dto_Email_0='ahhm9570@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:04:41.545 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='2025-05-16T17:04:41.1233700Z', @p1='ahhm9570@gmail.com' (Size = 450), @p2='Ahmed' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$rtQ8ZII2vLqyFY.4EK8FgOBEL1ci1hMvmtRz6eLUi/ffNcg.haV3i' (Size = 4000), @p6='Instructor' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 20:04:41.684 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='ahhm9570@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 20:04:41.769 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 20:04:41.806 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='407702' (Nullable = false) (Size = 6), @p1='2025-05-16T17:04:41.7857766Z', @p2='ahhm9570@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T17:14:41.7857321Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 20:04:53.192 +03:00 [INF] Email sent to ahhm9570@gmail.com
2025-05-16 20:04:53.199 +03:00 [INF] New user registered - ID: 8
2025-05-16 20:04:53.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 20:04:53.322 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 12974.1241ms
2025-05-16 20:04:53.328 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:04:53.331 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 13107.6332 ms
2025-05-16 20:04:53.346 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 13128.2758ms
2025-05-16 20:11:41.477 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 65
2025-05-16 20:11:41.483 +03:00 [INF] CORS policy execution failed.
2025-05-16 20:11:41.486 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 20:11:41.619 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:07:22 PM', Current time (UTC): '5/16/2025 5:11:41 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 20:11:41.661 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:07:22 PM', Current time (UTC): '5/16/2025 5:11:41 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 20:11:41.664 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 3:07:22 PM', Current time (UTC): '5/16/2025 5:11:41 PM'.
2025-05-16 20:11:41.675 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:41.694 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:11:41.787 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 20:11:41.794 +03:00 [WRN] Failed login attempt for email: abdomoka2018@gmail.com
2025-05-16 20:11:41.797 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:11:41.806 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 106.3016ms
2025-05-16 20:11:41.808 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:41.810 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 327.5900 ms
2025-05-16 20:11:41.814 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 401 null application/json; charset=utf-8 336.6636ms
2025-05-16 20:11:52.374 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 65
2025-05-16 20:11:52.378 +03:00 [INF] CORS policy execution failed.
2025-05-16 20:11:52.379 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 20:11:52.394 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:52.405 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:11:52.448 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 20:11:52.457 +03:00 [WRN] Failed login attempt for email: abdomoka2018@gmail.com
2025-05-16 20:11:52.459 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:11:52.463 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 54.3293ms
2025-05-16 20:11:52.468 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:52.470 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 92.4595 ms
2025-05-16 20:11:52.480 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 401 null application/json; charset=utf-8 105.589ms
2025-05-16 20:11:55.245 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 65
2025-05-16 20:11:55.249 +03:00 [INF] CORS policy execution failed.
2025-05-16 20:11:55.251 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 20:11:55.253 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:55.255 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:11:55.326 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 20:11:55.332 +03:00 [WRN] Failed login attempt for email: abdomoka2018@gmail.com
2025-05-16 20:11:55.335 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:11:55.337 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 79.0374ms
2025-05-16 20:11:55.339 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:55.340 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 90.6411 ms
2025-05-16 20:11:55.345 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 401 null application/json; charset=utf-8 99.8596ms
2025-05-16 20:11:56.738 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 65
2025-05-16 20:11:56.770 +03:00 [INF] CORS policy execution failed.
2025-05-16 20:11:56.772 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 20:11:56.778 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:56.781 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:11:56.807 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 20:11:56.820 +03:00 [WRN] Failed login attempt for email: abdomoka2018@gmail.com
2025-05-16 20:11:56.821 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:11:56.825 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 37.792ms
2025-05-16 20:11:56.829 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:56.830 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 60.2588 ms
2025-05-16 20:11:56.841 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 401 null application/json; charset=utf-8 103.0168ms
2025-05-16 20:11:57.260 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 65
2025-05-16 20:11:57.297 +03:00 [INF] CORS policy execution failed.
2025-05-16 20:11:57.306 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 20:11:57.309 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:57.312 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:11:57.364 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 20:11:57.373 +03:00 [WRN] Failed login attempt for email: abdomoka2018@gmail.com
2025-05-16 20:11:57.374 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:11:57.378 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 52.3214ms
2025-05-16 20:11:57.381 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:57.385 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 87.0742 ms
2025-05-16 20:11:57.390 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 401 null application/json; charset=utf-8 129.9708ms
2025-05-16 20:11:58.547 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 65
2025-05-16 20:11:58.551 +03:00 [INF] CORS policy execution failed.
2025-05-16 20:11:58.552 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 20:11:58.553 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:58.555 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:11:58.587 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 20:11:58.594 +03:00 [WRN] Failed login attempt for email: abdomoka2018@gmail.com
2025-05-16 20:11:58.596 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:11:58.605 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 47.3091ms
2025-05-16 20:11:58.607 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:11:58.610 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 59.0707 ms
2025-05-16 20:11:58.613 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 401 null application/json; charset=utf-8 65.9594ms
2025-05-16 20:12:25.100 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 107
2025-05-16 20:12:25.104 +03:00 [INF] CORS policy execution failed.
2025-05-16 20:12:25.107 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 20:12:25.109 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:12:25.111 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:12:25.159 +03:00 [WRN] كلمة مرور ضعيفة: الطول أقل من 8
2025-05-16 20:12:25.161 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:12:25.166 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 8.8566ms
2025-05-16 20:12:25.168 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:12:25.170 +03:00 [INF] HTTP POST /api/Auth/register responded 400 in 65.3888 ms
2025-05-16 20:12:25.172 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 400 null application/json; charset=utf-8 71.911ms
2025-05-16 20:12:46.588 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 109
2025-05-16 20:12:46.592 +03:00 [INF] CORS policy execution failed.
2025-05-16 20:12:46.595 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 20:12:46.603 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:12:46.605 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:12:46.655 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:12:47.026 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='2025-05-16T17:12:47.0063515Z', @p1='abdomoka2018@gmail.com' (Size = 450), @p2='string' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$kc1uN8GwiKMKXzoc8TXIi.L245xJJCpkT1Zk1cVl6zH5euTRmyOxK' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 20:12:47.075 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 20:12:47.124 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='248685' (Nullable = false) (Size = 6), @p1='2025-05-16T17:12:47.0951920Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T17:22:47.0951902Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 20:12:48.988 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 20:12:48.989 +03:00 [INF] New user registered - ID: 9
2025-05-16 20:12:48.991 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 20:12:48.993 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 2377.1118ms
2025-05-16 20:12:48.997 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:12:48.998 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 2406.2430 ms
2025-05-16 20:12:49.001 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 2413.854ms
2025-05-16 20:16:39.821 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - null null
2025-05-16 20:16:39.830 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:16:39.832 +03:00 [INF] HTTP OPTIONS /api/Auth/register responded 204 in 2.7276 ms
2025-05-16 20:16:39.835 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - 204 null null 14.2028ms
2025-05-16 20:16:39.848 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 20:16:39.856 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:16:39.861 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:16:39.862 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:16:39.880 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:16:40.109 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='2025-05-16T17:16:40.0996308Z', @p1='abdomoka2018@gmail.com' (Size = 450), @p2='Abdo' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$5Pq0oZroZ2DSu0R7AkT75uKAQs7ClcLhYZf6nq5PWkRN8wihjYZPe' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 20:16:40.121 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 20:16:40.134 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='7'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 20:16:40.148 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='508221' (Nullable = false) (Size = 6), @p1='2025-05-16T17:16:40.1394724Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T17:26:40.1394716Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 20:16:42.159 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 20:16:42.160 +03:00 [INF] New user registered - ID: 10
2025-05-16 20:16:42.161 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 20:16:42.163 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 2298.4245ms
2025-05-16 20:16:42.165 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:16:42.166 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 2309.8529 ms
2025-05-16 20:16:42.171 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 2322.2081ms
2025-05-16 20:55:42.171 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - null null
2025-05-16 20:55:42.206 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:55:42.212 +03:00 [INF] HTTP OPTIONS /api/Auth/register responded 204 in 16.3683 ms
2025-05-16 20:55:42.227 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - 204 null null 58.862ms
2025-05-16 20:55:42.244 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 20:55:42.256 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:55:42.269 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:42.278 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:55:42.578 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:55:42.890 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='2025-05-16T17:55:42.8589420Z', @p1='abdomoka2018@gmail.com' (Size = 450), @p2='Abdo' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$3B3DA.ACgcfokRQDt6xIxOuym8fwtRou91FDmf27SIWq29gjW.K8S' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 20:55:42.910 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 20:55:42.929 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='8'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 20:55:42.946 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='130734' (Nullable = false) (Size = 6), @p1='2025-05-16T17:55:42.9370656Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T18:05:42.9370648Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 20:55:44.841 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 20:55:44.842 +03:00 [INF] New user registered - ID: 11
2025-05-16 20:55:44.846 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 20:55:44.851 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 2567.5822ms
2025-05-16 20:55:44.854 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:44.857 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 2601.4642 ms
2025-05-16 20:55:44.860 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 2616.5072ms
2025-05-16 20:55:52.491 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 20:55:52.495 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:55:52.498 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:52.500 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:55:52.524 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:55:52.539 +03:00 [WRN] Attempt to register existing email: abdomoka2018@gmail.com
2025-05-16 20:55:52.545 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:55:52.549 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 45.9307ms
2025-05-16 20:55:52.552 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:52.555 +03:00 [INF] HTTP POST /api/Auth/register responded 409 in 60.1416 ms
2025-05-16 20:55:52.559 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 409 null application/json; charset=utf-8 68.0121ms
2025-05-16 20:55:53.625 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 20:55:53.628 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:55:53.630 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:53.657 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:55:53.693 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:55:53.740 +03:00 [WRN] Attempt to register existing email: abdomoka2018@gmail.com
2025-05-16 20:55:53.754 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:55:53.756 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 96.0507ms
2025-05-16 20:55:53.758 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:53.762 +03:00 [INF] HTTP POST /api/Auth/register responded 409 in 133.9513 ms
2025-05-16 20:55:53.773 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 409 null application/json; charset=utf-8 147.9702ms
2025-05-16 20:55:53.987 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 20:55:54.010 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:55:54.026 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:54.029 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:55:54.061 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:55:54.074 +03:00 [WRN] Attempt to register existing email: abdomoka2018@gmail.com
2025-05-16 20:55:54.075 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:55:54.077 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 36.0772ms
2025-05-16 20:55:54.091 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:54.093 +03:00 [INF] HTTP POST /api/Auth/register responded 409 in 83.7223 ms
2025-05-16 20:55:54.104 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 409 null application/json; charset=utf-8 116.6446ms
2025-05-16 20:55:54.308 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 20:55:54.327 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:55:54.328 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:54.333 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:55:54.360 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:55:54.391 +03:00 [WRN] Attempt to register existing email: abdomoka2018@gmail.com
2025-05-16 20:55:54.394 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:55:54.396 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 57.7733ms
2025-05-16 20:55:54.406 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:54.408 +03:00 [INF] HTTP POST /api/Auth/register responded 409 in 80.6127 ms
2025-05-16 20:55:54.429 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 409 null application/json; charset=utf-8 120.6419ms
2025-05-16 20:55:54.659 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 20:55:54.693 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:55:54.694 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:54.695 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:55:54.742 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:55:54.773 +03:00 [WRN] Attempt to register existing email: abdomoka2018@gmail.com
2025-05-16 20:55:54.774 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:55:54.776 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 66.3393ms
2025-05-16 20:55:54.779 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:55:54.785 +03:00 [INF] HTTP POST /api/Auth/register responded 409 in 92.3236 ms
2025-05-16 20:55:54.791 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 409 null application/json; charset=utf-8 132.0794ms
2025-05-16 20:55:55.024 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 92
2025-05-16 20:55:55.044 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:56:02.417 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:56:02.419 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:56:02.433 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 20:56:02.439 +03:00 [WRN] Attempt to register existing email: abdomoka2018@gmail.com
2025-05-16 20:56:02.440 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 20:56:02.442 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 21.6104ms
2025-05-16 20:56:02.444 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 20:56:02.449 +03:00 [INF] HTTP POST /api/Auth/register responded 409 in 7405.4912 ms
2025-05-16 20:56:02.455 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 409 null application/json; charset=utf-8 7431.1002ms
2025-05-16 20:57:47.738 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - null null
2025-05-16 20:57:47.745 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:57:47.746 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.4759 ms
2025-05-16 20:57:47.748 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - 204 null null 10.6356ms
2025-05-16 20:57:47.753 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 20:57:47.758 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:57:47.759 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:57:47.761 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:57:47.785 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 20:57:48.239 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='2025-05-16T17:57:48.0995855Z', @p1='0', @p2='2025-05-23T17:57:48.0987202Z', @p3='False', @p4='False', @p5='/ypouQ8li57Q9quYDTn4HQMcuNBT1laSea9RkKXCOo0=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 20:57:48.253 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 20:57:48.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 20:57:48.296 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 532.1749ms
2025-05-16 20:57:48.297 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:57:48.298 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 540.6553 ms
2025-05-16 20:57:48.301 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 548.4215ms
2025-05-16 20:59:11.843 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 20:59:11.860 +03:00 [INF] CORS policy execution successful.
2025-05-16 20:59:11.866 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:59:11.868 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 20:59:11.899 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 20:59:12.156 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='2025-05-16T17:59:12.1361874Z', @p1='0', @p2='2025-05-23T17:59:12.1361469Z', @p3='False', @p4='False', @p5='0goBDJgx1QCGrfKHgyxbrU1hlOKav4ryHR8SNgb9SDs=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 20:59:12.168 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 20:59:12.170 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 20:59:12.172 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 298.546ms
2025-05-16 20:59:12.174 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 20:59:12.177 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 317.0224 ms
2025-05-16 20:59:12.184 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 341.5059ms
2025-05-16 21:05:16.859 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 21:05:16.866 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:05:16.876 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:05:16.878 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:05:16.938 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:05:17.327 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='2025-05-16T18:05:17.2960742Z', @p1='0', @p2='2025-05-23T18:05:17.2960316Z', @p3='False', @p4='False', @p5='Tj5y1ZKEsdeq2MegImeEWjEepyqchCt1D9hkiCS5G4M=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:05:17.341 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 21:05:17.342 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:05:17.344 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 458.2217ms
2025-05-16 21:05:17.348 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:05:17.351 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 485.5885 ms
2025-05-16 21:05:17.356 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 497.6271ms
2025-05-16 21:26:57.059 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 64
2025-05-16 21:26:57.101 +03:00 [INF] CORS policy execution failed.
2025-05-16 21:26:57.105 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 21:26:57.118 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:26:57.125 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:26:57.313 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:26:57.635 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='2025-05-16T18:26:57.5945111Z', @p1='0', @p2='2025-05-23T18:26:57.5937061Z', @p3='False', @p4='False', @p5='UVI9UApkZIWat3V/JqKn4/p2xtsJnJ8N05yOTN+p0yY=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:26:57.646 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 21:26:57.654 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:26:57.659 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 530.8743ms
2025-05-16 21:26:57.660 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:26:57.662 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 568.8225 ms
2025-05-16 21:26:57.671 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 616.8171ms
2025-05-16 21:31:54.056 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - null null
2025-05-16 21:31:54.062 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:31:54.067 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 5.8299 ms
2025-05-16 21:31:54.069 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - 204 null null 12.79ms
2025-05-16 21:31:54.081 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 21:31:54.089 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:31:54.091 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:31:54.093 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:31:54.120 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:31:54.342 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='2025-05-16T18:31:54.3232599Z', @p1='0', @p2='2025-05-23T18:31:54.3232315Z', @p3='False', @p4='False', @p5='qJoJVqFFLuG4BrWXj/WT/ZZ+6Sbgo84cH2JY01pwk0w=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:31:54.350 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 21:31:54.353 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:31:54.356 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 260.3642ms
2025-05-16 21:31:54.360 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:31:54.363 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 274.9893 ms
2025-05-16 21:31:54.367 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 285.8529ms
2025-05-16 21:31:55.576 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 21:31:55.580 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:31:55.583 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:31:55.585 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:31:55.600 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:31:55.895 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='2025-05-16T18:31:55.8842976Z', @p1='0', @p2='2025-05-23T18:31:55.8842751Z', @p3='False', @p4='False', @p5='nlUQnvk0bKfNe6eS8nEHEi5ofNtRXLbgS5mlMxO9yKo=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:31:55.900 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 21:31:55.903 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:31:55.908 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 320.148ms
2025-05-16 21:31:55.910 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:31:55.911 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 330.8042 ms
2025-05-16 21:31:55.914 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 338.1583ms
2025-05-16 21:31:56.077 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 21:31:56.081 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:31:56.083 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:31:56.085 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:31:56.099 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:31:56.336 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='2025-05-16T18:31:56.3301533Z', @p1='0', @p2='2025-05-23T18:31:56.3301290Z', @p3='False', @p4='False', @p5='xaO25K93gt4icaWHC8bxaM1mCGOul16XV7+WZD5gsEw=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:31:56.349 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 21:31:56.350 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:31:56.352 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 259.308ms
2025-05-16 21:31:56.354 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:31:56.358 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 276.5671 ms
2025-05-16 21:31:56.364 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 287.6851ms
2025-05-16 21:40:11.585 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 21:40:11.597 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:40:11.598 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:40:11.602 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:40:11.649 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:40:11.869 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='2025-05-16T18:40:11.8553506Z', @p1='0', @p2='2025-05-23T18:40:11.8553004Z', @p3='False', @p4='False', @p5='D54vvS6nTJRgn7YduFNz7FGw31MCdCGe9I1igRIv/S4=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:40:11.879 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 21:40:11.881 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:40:11.884 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 278.8952ms
2025-05-16 21:40:11.886 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:40:11.888 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 291.0507 ms
2025-05-16 21:40:11.892 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 306.7536ms
2025-05-16 21:41:09.439 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 21:41:09.443 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:41:09.445 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:41:09.447 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:41:09.459 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:41:09.745 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='2025-05-16T18:41:09.7282305Z', @p1='0', @p2='2025-05-23T18:41:09.7281759Z', @p3='False', @p4='False', @p5='eSPboD1dUby85yh5YZ32mlC8Du9K/4Kv5vbS0L9Kp5g=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:41:09.751 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 21:41:09.753 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:41:09.759 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 310.1163ms
2025-05-16 21:41:09.761 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:41:09.762 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 319.6428 ms
2025-05-16 21:41:09.775 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 336.0742ms
2025-05-16 21:41:11.481 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 73
2025-05-16 21:41:11.485 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:41:11.487 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:41:11.491 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:41:11.512 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__dto_Email_0='admin@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:41:11.834 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='2025-05-16T18:41:11.8091028Z', @p1='0', @p2='2025-05-23T18:41:11.8088834Z', @p3='False', @p4='False', @p5='S3LFGCiX6vC9NkHus2hAeCoUCZ6m3JtV2ZXbnPj7fDg=' (Nullable = false) (Size = 450), @p6='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:41:11.849 +03:00 [INF] Successful login for: admin@elearning.com
2025-05-16 21:41:11.851 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:41:11.852 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 357.8674ms
2025-05-16 21:41:11.858 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:41:11.861 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 375.9147 ms
2025-05-16 21:41:11.865 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 384.0882ms
2025-05-16 21:43:42.163 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - null null
2025-05-16 21:43:42.166 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:43:42.168 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.4225 ms
2025-05-16 21:43:42.170 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - 204 null null 6.382ms
2025-05-16 21:43:42.173 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 83
2025-05-16 21:43:42.178 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:43:42.180 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:43:42.181 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:43:42.202 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_Email_0='instructor@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:43:42.505 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='2025-05-16T18:43:42.4766784Z', @p1='0', @p2='2025-05-23T18:43:42.4766428Z', @p3='False', @p4='False', @p5='z2oM/DqJEqG7ytAUOjb4amLGwX9b95Zm9nFA/CKUGZs=' (Nullable = false) (Size = 450), @p6='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:43:42.523 +03:00 [INF] Successful login for: instructor@elearning.com
2025-05-16 21:43:42.526 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:43:42.528 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 344.6212ms
2025-05-16 21:43:42.530 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:43:42.531 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 352.6493 ms
2025-05-16 21:43:42.537 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 363.3141ms
2025-05-16 21:43:42.734 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/refresh-token - null null
2025-05-16 21:43:42.736 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/validate-token - null null
2025-05-16 21:43:42.768 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:43:42.800 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:43:42.801 +03:00 [INF] HTTP OPTIONS /api/Auth/refresh-token responded 204 in 33.3958 ms
2025-05-16 21:43:42.802 +03:00 [INF] HTTP OPTIONS /api/Auth/validate-token responded 204 in 29.7607 ms
2025-05-16 21:43:42.804 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/refresh-token - 204 null null 70.2631ms
2025-05-16 21:43:42.807 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 21:43:42.807 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/validate-token - 204 null null 71.0649ms
2025-05-16 21:43:42.815 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/validate-token - application/json 501
2025-05-16 21:43:42.822 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:43:42.829 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:43:42.854 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:43:42 PM', Current time (UTC): '5/16/2025 6:43:42 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:43:42.861 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:43:42 PM', Current time (UTC): '5/16/2025 6:43:42 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:43:42.884 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:43:42 PM', Current time (UTC): '5/16/2025 6:43:42 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:43:42.888 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:43:42 PM', Current time (UTC): '5/16/2025 6:43:42 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:43:42.895 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:43:42 PM', Current time (UTC): '5/16/2025 6:43:42 PM'.
2025-05-16 21:43:42.897 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:43:42 PM', Current time (UTC): '5/16/2025 6:43:42 PM'.
2025-05-16 21:43:42.900 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:43:42.913 +03:00 [INF] HTTP POST /api/Auth/validate-token responded 404 in 83.5269 ms
2025-05-16 21:43:42.915 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/validate-token - 404 0 null 99.5925ms
2025-05-16 21:43:42.932 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/Auth/validate-token, Response status code: 404
2025-05-16 21:43:42.971 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:43:43.425 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_RefreshToken_0='z2oM/DqJEqG7ytAUOjb4amLGwX9b95Zm9nFA/CKUGZs=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 21:43:43.582 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p7='14', @p0='2025-05-16T18:43:42.4766784', @p1='0', @p2='2025-05-23T18:43:42.4766428', @p3='False', @p4='True', @p5='z2oM/DqJEqG7ytAUOjb4amLGwX9b95Zm9nFA/CKUGZs=' (Nullable = false) (Size = 450), @p6='2', @p8='2025-05-16T18:43:43.4624239Z', @p9='0', @p10='2025-05-23T18:43:43.4623828Z', @p11='False', @p12='False', @p13='01HkwQYwhADBWOb676XTGBMX/d8B58mLAle7Sn0bMRA=' (Nullable = false) (Size = 450), @p14='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 21:43:43.626 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:43:43.641 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 666.1965ms
2025-05-16 21:43:43.643 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:43:43.644 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 824.5883 ms
2025-05-16 21:43:43.651 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 843.9341ms
2025-05-16 21:44:59.990 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 82
2025-05-16 21:44:59.993 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:44:59.994 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:44:59.996 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:45:00.027 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__dto_Email_0='instructor@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:45:00.261 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='2025-05-16T18:45:00.2380123Z', @p1='0', @p2='2025-05-23T18:45:00.2379894Z', @p3='False', @p4='False', @p5='tvTMAPOfMPVypc3a+l8s1wLV56gF9U84+9qHZysVeaw=' (Nullable = false) (Size = 450), @p6='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:45:00.275 +03:00 [INF] Successful login for: instructor@elearning.com
2025-05-16 21:45:00.276 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:45:00.280 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 281.5106ms
2025-05-16 21:45:00.282 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:45:00.285 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 292.4148 ms
2025-05-16 21:45:00.290 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 300.5293ms
2025-05-16 21:45:00.433 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 21:45:00.435 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/validate-token - application/json 501
2025-05-16 21:45:00.495 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:45:00.498 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:45:00.533 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:45:00 PM', Current time (UTC): '5/16/2025 6:45:00 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:45:00.541 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:45:00 PM', Current time (UTC): '5/16/2025 6:45:00 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:45:00.544 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:45:00 PM', Current time (UTC): '5/16/2025 6:45:00 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:45:00.551 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:45:00 PM', Current time (UTC): '5/16/2025 6:45:00 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:45:00.559 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:45:00 PM', Current time (UTC): '5/16/2025 6:45:00 PM'.
2025-05-16 21:45:00.563 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:45:00 PM', Current time (UTC): '5/16/2025 6:45:00 PM'.
2025-05-16 21:45:00.564 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:45:00.565 +03:00 [INF] HTTP POST /api/Auth/validate-token responded 404 in 66.4499 ms
2025-05-16 21:45:00.566 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:45:00.569 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/validate-token - 404 0 null 133.8353ms
2025-05-16 21:45:00.575 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/Auth/validate-token, Response status code: 404
2025-05-16 21:45:00.614 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__request_RefreshToken_0='tvTMAPOfMPVypc3a+l8s1wLV56gF9U84+9qHZysVeaw=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 21:45:00.676 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p7='16', @p0='2025-05-16T18:45:00.2380123', @p1='0', @p2='2025-05-23T18:45:00.2379894', @p3='False', @p4='True', @p5='tvTMAPOfMPVypc3a+l8s1wLV56gF9U84+9qHZysVeaw=' (Nullable = false) (Size = 450), @p6='2', @p8='2025-05-16T18:45:00.6437668Z', @p9='0', @p10='2025-05-23T18:45:00.6437250Z', @p11='False', @p12='False', @p13='70uli+Y2phP/GuEJbTxuLUJfcCq3OXvhydytSG38BTM=' (Nullable = false) (Size = 450), @p14='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 21:45:00.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:45:00.705 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 132.6631ms
2025-05-16 21:45:00.706 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:45:00.708 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 212.5668 ms
2025-05-16 21:45:00.711 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 277.5455ms
2025-05-16 21:46:15.786 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 82
2025-05-16 21:46:15.808 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:46:15.814 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:46:15.816 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:46:15.846 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_Email_0='instructor@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:46:16.117 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='2025-05-16T18:46:16.0998268Z', @p1='0', @p2='2025-05-23T18:46:16.0997977Z', @p3='False', @p4='False', @p5='FkFZecsrzz+j+LalK+s6H/siopTW4hW6tGts0vPYJJ0=' (Nullable = false) (Size = 450), @p6='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:46:16.125 +03:00 [INF] Successful login for: instructor@elearning.com
2025-05-16 21:46:16.130 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:46:16.132 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 312.3044ms
2025-05-16 21:46:16.134 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:46:16.136 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 327.8084 ms
2025-05-16 21:46:16.141 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 355.7273ms
2025-05-16 21:46:16.226 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 21:46:16.226 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/validate-token - application/json 501
2025-05-16 21:46:16.230 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:46:16.232 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:46:16.237 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:46:16 PM', Current time (UTC): '5/16/2025 6:46:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:46:16.249 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:46:16 PM', Current time (UTC): '5/16/2025 6:46:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:46:16.258 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:46:16 PM', Current time (UTC): '5/16/2025 6:46:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:46:16.260 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:46:16 PM', Current time (UTC): '5/16/2025 6:46:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:46:16.271 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:46:16 PM', Current time (UTC): '5/16/2025 6:46:16 PM'.
2025-05-16 21:46:16.274 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:46:16 PM', Current time (UTC): '5/16/2025 6:46:16 PM'.
2025-05-16 21:46:16.279 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:46:16.283 +03:00 [INF] HTTP POST /api/Auth/validate-token responded 404 in 50.4425 ms
2025-05-16 21:46:16.285 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:46:16.288 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/validate-token - 404 0 null 62.2532ms
2025-05-16 21:46:16.301 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/Auth/validate-token, Response status code: 404
2025-05-16 21:46:16.317 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_RefreshToken_0='FkFZecsrzz+j+LalK+s6H/siopTW4hW6tGts0vPYJJ0=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 21:46:16.371 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p7='18', @p0='2025-05-16T18:46:16.0998268', @p1='0', @p2='2025-05-23T18:46:16.0997977', @p3='False', @p4='True', @p5='FkFZecsrzz+j+LalK+s6H/siopTW4hW6tGts0vPYJJ0=' (Nullable = false) (Size = 450), @p6='2', @p8='2025-05-16T18:46:16.3404902Z', @p9='0', @p10='2025-05-23T18:46:16.3404518Z', @p11='False', @p12='False', @p13='lQDOZLDREnbfmNWP7Gf7HTPFz02bNQZoJxQ7Ch1q55E=' (Nullable = false) (Size = 450), @p14='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 21:46:16.404 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:46:16.406 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 109.2181ms
2025-05-16 21:46:16.408 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:46:16.410 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 179.7703 ms
2025-05-16 21:46:16.416 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 190.5184ms
2025-05-16 21:51:33.143 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 82
2025-05-16 21:51:33.169 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:51:33.171 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:51:33.172 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:51:33.263 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__dto_Email_0='instructor@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:51:33.620 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='2025-05-16T18:51:33.6067761Z', @p1='0', @p2='2025-05-23T18:51:33.6067435Z', @p3='False', @p4='False', @p5='VU429vbvKFpXnNcLdW0h8ULLbPQh2UIjNynjygZDSQ4=' (Nullable = false) (Size = 450), @p6='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:51:33.626 +03:00 [INF] Successful login for: instructor@elearning.com
2025-05-16 21:51:33.628 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:51:33.629 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 454.5004ms
2025-05-16 21:51:33.631 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:51:33.633 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 463.9419 ms
2025-05-16 21:51:33.638 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 495.1828ms
2025-05-16 21:51:33.858 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 21:51:33.858 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/validate-token - application/json 501
2025-05-16 21:51:33.876 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:51:33.881 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:51:33 PM', Current time (UTC): '5/16/2025 6:51:33 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:51:33.861 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:51:33.910 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:51:33 PM', Current time (UTC): '5/16/2025 6:51:33 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:51:33.906 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:51:33 PM', Current time (UTC): '5/16/2025 6:51:33 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:51:33.929 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:51:33 PM', Current time (UTC): '5/16/2025 6:51:33 PM'.
2025-05-16 21:51:33.930 +03:00 [INF] HTTP POST /api/Auth/validate-token responded 404 in 54.2436 ms
2025-05-16 21:51:33.917 +03:00 [ERR] JWT Authentication Failed
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:51:33 PM', Current time (UTC): '5/16/2025 6:51:33 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-16 21:51:33.944 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/validate-token - 404 0 null 85.5186ms
2025-05-16 21:51:33.962 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/Auth/validate-token, Response status code: 404
2025-05-16 21:51:33.959 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/16/2025 6:51:33 PM', Current time (UTC): '5/16/2025 6:51:33 PM'.
2025-05-16 21:51:33.973 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:51:33.974 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:51:34.071 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__request_RefreshToken_0='VU429vbvKFpXnNcLdW0h8ULLbPQh2UIjNynjygZDSQ4=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 21:51:34.204 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p7='20', @p0='2025-05-16T18:51:33.6067761', @p1='0', @p2='2025-05-23T18:51:33.6067435', @p3='False', @p4='True', @p5='VU429vbvKFpXnNcLdW0h8ULLbPQh2UIjNynjygZDSQ4=' (Nullable = false) (Size = 450), @p6='2', @p8='2025-05-16T18:51:34.1475696Z', @p9='0', @p10='2025-05-23T18:51:34.1475213Z', @p11='False', @p12='False', @p13='qTK3VHkKBVPcjD4DOkZxo2EPXv3cbTHxtLQssmAGDKM=' (Nullable = false) (Size = 450), @p14='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 21:51:34.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:51:34.235 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 257.5272ms
2025-05-16 21:51:34.243 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:51:34.244 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 382.9056 ms
2025-05-16 21:51:34.247 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 389.1106ms
2025-05-16 21:53:55.220 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - null null
2025-05-16 21:53:55.228 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:53:55.230 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.7024 ms
2025-05-16 21:53:55.233 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - 204 null null 12.2115ms
2025-05-16 21:53:55.243 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 82
2025-05-16 21:53:55.249 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:53:55.257 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:53:55.259 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:53:55.302 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__dto_Email_0='instructor@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:53:55.629 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='2025-05-16T18:53:55.6110498Z', @p1='0', @p2='2025-05-23T18:53:55.6110185Z', @p3='False', @p4='False', @p5='iAdClP0bRjgG3hk/QW0hu1FTpT1bc2KlblvdjeZGXX8=' (Nullable = false) (Size = 450), @p6='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:53:55.642 +03:00 [INF] Successful login for: instructor@elearning.com
2025-05-16 21:53:55.643 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:53:55.646 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 384.3573ms
2025-05-16 21:53:55.650 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:53:55.651 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 402.6582 ms
2025-05-16 21:53:55.659 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 415.4241ms
2025-05-16 21:53:55.908 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/refresh-token - null null
2025-05-16 21:53:55.913 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:53:55.916 +03:00 [INF] HTTP OPTIONS /api/Auth/refresh-token responded 204 in 3.0680 ms
2025-05-16 21:53:55.918 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/refresh-token - 204 null null 10.033ms
2025-05-16 21:53:55.929 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 21:53:55.938 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:53:55.942 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:53:55.945 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:53:55.985 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_RefreshToken_0='iAdClP0bRjgG3hk/QW0hu1FTpT1bc2KlblvdjeZGXX8=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 21:53:56.018 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p7='22', @p0='2025-05-16T18:53:55.6110498', @p1='0', @p2='2025-05-23T18:53:55.6110185', @p3='False', @p4='True', @p5='iAdClP0bRjgG3hk/QW0hu1FTpT1bc2KlblvdjeZGXX8=' (Nullable = false) (Size = 450), @p6='2', @p8='2025-05-16T18:53:55.9972321Z', @p9='0', @p10='2025-05-23T18:53:55.9971361Z', @p11='False', @p12='False', @p13='dFW8XGMcFPH97Lsft72X18jvgkP7zPkIelqWRNO4b1g=' (Nullable = false) (Size = 450), @p14='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 21:53:56.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:53:56.051 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 104.6419ms
2025-05-16 21:53:56.056 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:53:56.058 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 119.8074 ms
2025-05-16 21:53:56.063 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 134.3056ms
2025-05-16 21:55:50.095 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 82
2025-05-16 21:55:50.108 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:55:50.159 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:55:50.171 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:55:50.251 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__dto_Email_0='instructor@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:55:50.491 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='2025-05-16T18:55:50.4822919Z', @p1='0', @p2='2025-05-23T18:55:50.4822574Z', @p3='False', @p4='False', @p5='VhqbDwW3PGjYbqMnfC25IS4RCOonGcav2ZQikfGCnB0=' (Nullable = false) (Size = 450), @p6='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:55:50.508 +03:00 [INF] Successful login for: instructor@elearning.com
2025-05-16 21:55:50.514 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:55:50.518 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 333.7293ms
2025-05-16 21:55:50.521 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:55:50.522 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 418.3283 ms
2025-05-16 21:55:50.578 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 482.1185ms
2025-05-16 21:55:50.729 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 21:55:50.784 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:55:50.786 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:55:50.787 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:55:50.840 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__request_RefreshToken_0='VhqbDwW3PGjYbqMnfC25IS4RCOonGcav2ZQikfGCnB0=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 21:55:51.239 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p7='24', @p0='2025-05-16T18:55:50.4822919', @p1='0', @p2='2025-05-23T18:55:50.4822574', @p3='False', @p4='True', @p5='VhqbDwW3PGjYbqMnfC25IS4RCOonGcav2ZQikfGCnB0=' (Nullable = false) (Size = 450), @p6='2', @p8='2025-05-16T18:55:51.1218653Z', @p9='0', @p10='2025-05-23T18:55:51.1218205Z', @p11='False', @p12='False', @p13='FZc4OQfbZN0Uz3dEx7YxPzPmHuQr0cHHKxhqqGxxYXc=' (Nullable = false) (Size = 450), @p14='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 21:55:51.301 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:55:51.304 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 514.7337ms
2025-05-16 21:55:51.308 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:55:51.309 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 524.9896 ms
2025-05-16 21:55:51.332 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 603.1974ms
2025-05-16 21:58:00.629 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 82
2025-05-16 21:58:00.711 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:58:00.724 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:58:00.727 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:58:00.775 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__dto_Email_0='instructor@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:58:01.092 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='2025-05-16T18:58:01.0729589Z', @p1='0', @p2='2025-05-23T18:58:01.0729284Z', @p3='False', @p4='False', @p5='J970lgGEjAscycsrXDWoapx3ju2KteG3tWhaAfWt00Y=' (Nullable = false) (Size = 450), @p6='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:58:01.106 +03:00 [INF] Successful login for: instructor@elearning.com
2025-05-16 21:58:01.108 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:58:01.111 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 372.143ms
2025-05-16 21:58:01.122 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:58:01.123 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 412.0381 ms
2025-05-16 21:58:01.374 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 21:58:01.374 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 744.8339ms
2025-05-16 21:58:01.425 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:58:01.428 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:58:01.429 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:58:01.494 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_RefreshToken_0='J970lgGEjAscycsrXDWoapx3ju2KteG3tWhaAfWt00Y=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 21:58:01.883 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@p7='26', @p0='2025-05-16T18:58:01.0729589', @p1='0', @p2='2025-05-23T18:58:01.0729284', @p3='False', @p4='True', @p5='J970lgGEjAscycsrXDWoapx3ju2KteG3tWhaAfWt00Y=' (Nullable = false) (Size = 450), @p6='2', @p8='2025-05-16T18:58:01.6314843Z', @p9='0', @p10='2025-05-23T18:58:01.6314347Z', @p11='False', @p12='False', @p13='//0/AdOujnLHFYZylsz2TM24N26WeytpFYDWxOXvr64=' (Nullable = false) (Size = 450), @p14='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 21:58:01.978 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:58:01.981 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 548.2931ms
2025-05-16 21:58:01.992 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:58:01.993 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 568.7836 ms
2025-05-16 21:58:01.997 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 623.1261ms
2025-05-16 21:58:02.871 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 82
2025-05-16 21:58:02.922 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:58:03.211 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:58:03.223 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:58:03.278 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__dto_Email_0='instructor@elearning.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 21:58:03.774 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='2025-05-16T18:58:03.6566186Z', @p1='0', @p2='2025-05-23T18:58:03.6565332Z', @p3='False', @p4='False', @p5='HHe39kRW8Uv5a7kzeyTC+ThbTkXQb5y6Cs8HnGJMnFY=' (Nullable = false) (Size = 450), @p6='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 21:58:03.804 +03:00 [INF] Successful login for: instructor@elearning.com
2025-05-16 21:58:03.823 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:58:03.845 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 605.7295ms
2025-05-16 21:58:03.875 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 21:58:03.876 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 955.2165 ms
2025-05-16 21:58:04.024 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 1153.0455ms
2025-05-16 21:58:04.145 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 21:58:04.209 +03:00 [INF] CORS policy execution successful.
2025-05-16 21:58:04.209 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:58:04.212 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 21:58:04.433 +03:00 [INF] Executed DbCommand (196ms) [Parameters=[@__request_RefreshToken_0='HHe39kRW8Uv5a7kzeyTC+ThbTkXQb5y6Cs8HnGJMnFY=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 21:58:04.571 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p7='28', @p0='2025-05-16T18:58:03.6566186', @p1='0', @p2='2025-05-23T18:58:03.6565332', @p3='False', @p4='True', @p5='HHe39kRW8Uv5a7kzeyTC+ThbTkXQb5y6Cs8HnGJMnFY=' (Nullable = false) (Size = 450), @p6='2', @p8='2025-05-16T18:58:04.4910235Z', @p9='0', @p10='2025-05-23T18:58:04.4909856Z', @p11='False', @p12='False', @p13='pY+unjaOYqt+rJVOSvNK8uJHVwiChuL4kunt72Rhcis=' (Nullable = false) (Size = 450), @p14='2'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 21:58:04.663 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 21:58:04.721 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 503.5741ms
2025-05-16 21:58:04.725 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 21:58:04.728 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 519.8001 ms
2025-05-16 21:58:04.741 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 595.9087ms
2025-05-16 22:00:05.379 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - null null
2025-05-16 22:00:05.385 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:00:05.387 +03:00 [INF] HTTP OPTIONS /api/Auth/register responded 204 in 2.5986 ms
2025-05-16 22:00:05.390 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - 204 null null 10.7941ms
2025-05-16 22:00:05.395 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 107
2025-05-16 22:00:05.399 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:00:05.400 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 22:00:05.402 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:00:05.433 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 22:00:05.665 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='2025-05-16T19:00:05.6475586Z', @p1='abdomoka2018@gmail.com' (Size = 450), @p2='عبدرالرحمن' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$0Wm32cZbzXVg82QGLDwyT.SY3iIhDKz9ITdQlWxaKvyLxAOE3LP7K' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 22:00:05.685 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 22:00:05.701 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='9'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 22:00:05.715 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='680023' (Nullable = false) (Size = 6), @p1='2025-05-16T19:00:05.7086555Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T19:10:05.7086438Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 22:00:08.592 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 22:00:08.596 +03:00 [INF] New user registered - ID: 12
2025-05-16 22:00:08.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:00:08.605 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 3199.361ms
2025-05-16 22:00:08.608 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 22:00:08.611 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 3211.8216 ms
2025-05-16 22:00:08.617 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 3222.5348ms
2025-05-16 22:06:26.940 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/api/Auth/register - null null
2025-05-16 22:06:27.056 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:06:27.057 +03:00 [INF] HTTP OPTIONS /api/Auth/api/Auth/register responded 204 in 5.3041 ms
2025-05-16 22:06:27.059 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/api/Auth/register - 204 null null 118.8059ms
2025-05-16 22:06:27.064 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/api/Auth/register - application/json 111
2025-05-16 22:06:27.068 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:06:27.072 +03:00 [INF] HTTP POST /api/Auth/api/Auth/register responded 404 in 3.6028 ms
2025-05-16 22:06:27.075 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/api/Auth/register - 404 0 null 10.7992ms
2025-05-16 22:06:27.078 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/Auth/api/Auth/register, Response status code: 404
2025-05-16 22:06:41.197 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/api/Auth/register - application/json 108
2025-05-16 22:06:41.206 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:06:41.209 +03:00 [INF] HTTP POST /api/Auth/api/Auth/register responded 404 in 3.1908 ms
2025-05-16 22:06:41.221 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/api/Auth/register - 404 0 null 24.3419ms
2025-05-16 22:06:41.225 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/Auth/api/Auth/register, Response status code: 404
2025-05-16 22:09:58.725 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 109
2025-05-16 22:09:58.739 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:09:58.742 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 22:09:58.746 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:09:58.877 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 22:09:59.242 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='2025-05-16T19:09:59.2127988Z', @p1='abdomoka2018@gmail.com' (Size = 450), @p2='عبدرالرحمن' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$bp/YpUdks6KUihL4qhIyeugbXODXfNHRWrGOlM6iU9bxnaEklignK' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 22:09:59.265 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 22:09:59.295 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='10'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 22:09:59.324 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='687885' (Nullable = false) (Size = 6), @p1='2025-05-16T19:09:59.3134532Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T19:19:59.3134517Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 22:10:06.179 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 22:10:06.180 +03:00 [INF] New user registered - ID: 13
2025-05-16 22:10:06.191 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:10:06.193 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 7440.49ms
2025-05-16 22:10:06.194 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 22:10:06.196 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 7457.2262 ms
2025-05-16 22:10:06.385 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 7659.381ms
2025-05-16 22:11:05.666 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/api/Auth/confirm-email - null null
2025-05-16 22:11:05.722 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:11:05.724 +03:00 [INF] HTTP OPTIONS /api/api/Auth/confirm-email responded 204 in 1.5591 ms
2025-05-16 22:11:05.726 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/api/Auth/confirm-email - 204 null null 59.8262ms
2025-05-16 22:11:05.731 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - application/json 50
2025-05-16 22:11:05.739 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:11:05.741 +03:00 [INF] HTTP POST /api/api/Auth/confirm-email responded 404 in 1.4374 ms
2025-05-16 22:11:05.743 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - 404 0 null 11.5583ms
2025-05-16 22:11:05.752 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/api/Auth/confirm-email, Response status code: 404
2025-05-16 22:11:22.436 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - application/json 50
2025-05-16 22:11:22.438 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:11:22.440 +03:00 [INF] HTTP POST /api/api/Auth/confirm-email responded 404 in 1.4660 ms
2025-05-16 22:11:22.445 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - 404 0 null 9.203ms
2025-05-16 22:11:22.532 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/api/Auth/confirm-email, Response status code: 404
2025-05-16 22:17:15.859 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/resend-confirmation-code - null null
2025-05-16 22:17:15.868 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:17:15.870 +03:00 [INF] HTTP OPTIONS /api/Auth/resend-confirmation-code responded 204 in 4.2038 ms
2025-05-16 22:17:15.872 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/resend-confirmation-code - 204 null null 13.2576ms
2025-05-16 22:17:15.887 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 44
2025-05-16 22:17:15.895 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:17:15.908 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:17:16.025 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:17:16.240 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:17:16.402 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 368.7028ms
2025-05-16 22:17:16.406 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:17:16.418 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 525.1001 ms
2025-05-16 22:17:16.422 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 534.7913ms
2025-05-16 22:17:44.253 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - application/json 50
2025-05-16 22:17:44.257 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:17:44.264 +03:00 [INF] HTTP POST /api/api/Auth/confirm-email responded 404 in 6.8259 ms
2025-05-16 22:17:44.269 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - 404 0 null 15.5992ms
2025-05-16 22:17:44.277 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/api/Auth/confirm-email, Response status code: 404
2025-05-16 22:20:11.756 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - application/json 50
2025-05-16 22:20:11.762 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:20:11.766 +03:00 [INF] HTTP POST /api/api/Auth/confirm-email responded 404 in 3.6012 ms
2025-05-16 22:20:11.769 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - 404 0 null 13.2177ms
2025-05-16 22:20:11.774 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/api/Auth/confirm-email, Response status code: 404
2025-05-16 22:20:19.789 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 44
2025-05-16 22:20:19.798 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:20:19.802 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:20:19.803 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:20:19.807 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:20:19.809 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 4.1977ms
2025-05-16 22:20:19.811 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:20:19.812 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 14.8141 ms
2025-05-16 22:20:19.815 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 26.2478ms
2025-05-16 22:20:40.376 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 44
2025-05-16 22:20:40.452 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:20:40.454 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:20:40.455 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:20:40.465 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:20:40.469 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 11.4589ms
2025-05-16 22:20:40.471 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:20:40.473 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 20.8130 ms
2025-05-16 22:20:40.475 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 98.9093ms
2025-05-16 22:20:41.549 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 44
2025-05-16 22:20:41.557 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:20:41.559 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:20:41.565 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:20:41.572 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:20:41.575 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 4.1353ms
2025-05-16 22:20:41.579 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:20:41.580 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 23.7148 ms
2025-05-16 22:20:41.585 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 36.0267ms
2025-05-16 22:20:44.103 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 44
2025-05-16 22:20:44.107 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:20:44.110 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:20:44.113 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:20:44.118 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:20:44.120 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 3.9239ms
2025-05-16 22:20:44.123 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:20:44.125 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 17.4195 ms
2025-05-16 22:20:44.129 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 25.3194ms
2025-05-16 22:22:58.862 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 44
2025-05-16 22:22:58.870 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:22:58.872 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:22:58.876 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:22:58.883 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:22:58.925 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 45.1546ms
2025-05-16 22:22:58.932 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:22:58.940 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 70.7113 ms
2025-05-16 22:22:58.953 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 89.2035ms
2025-05-16 22:23:10.995 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 44
2025-05-16 22:23:11.072 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:23:11.078 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:23:11.082 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:23:11.104 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:23:11.110 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 7.4314ms
2025-05-16 22:23:11.116 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:23:11.120 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 48.3692 ms
2025-05-16 22:23:11.124 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 129.313ms
2025-05-16 22:23:34.609 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/api/Auth/confirm-email - null null
2025-05-16 22:23:34.617 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:23:34.626 +03:00 [INF] HTTP OPTIONS /api/api/Auth/confirm-email responded 204 in 8.6034 ms
2025-05-16 22:23:34.632 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/api/Auth/confirm-email - 204 null null 23.2466ms
2025-05-16 22:23:34.639 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - application/json 50
2025-05-16 22:23:34.670 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:23:34.672 +03:00 [INF] HTTP POST /api/api/Auth/confirm-email responded 404 in 2.0010 ms
2025-05-16 22:23:34.680 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - 404 0 null 41.2211ms
2025-05-16 22:23:34.801 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/api/Auth/confirm-email, Response status code: 404
2025-05-16 22:24:51.526 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/confirm-email - application/json 43
2025-05-16 22:24:51.596 +03:00 [INF] CORS policy execution failed.
2025-05-16 22:24:51.601 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 22:24:51.604 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ConfirmEmail (e_learning)'
2025-05-16 22:24:51.667 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(e_learning.DTOs.ConfirmEmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:24:52.287 +03:00 [INF] Executed DbCommand (142ms) [Parameters=[@__ToLower_0='string' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0 AND [e].[ExpiryDate] > GETUTCDATE()
ORDER BY [e].[ExpiryDate] DESC
2025-05-16 22:24:52.298 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 22:24:52.301 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ConfirmEmail (e_learning) in 631.0757ms
2025-05-16 22:24:52.306 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ConfirmEmail (e_learning)'
2025-05-16 22:24:52.314 +03:00 [INF] HTTP POST /api/Auth/confirm-email responded 400 in 719.2663 ms
2025-05-16 22:24:52.317 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/confirm-email - 400 null application/json; charset=utf-8 791.1313ms
2025-05-16 22:25:30.053 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 39
2025-05-16 22:25:30.057 +03:00 [INF] CORS policy execution failed.
2025-05-16 22:25:30.059 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 22:25:30.063 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:25:30.066 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:25:30.296 +03:00 [INF] Executed DbCommand (133ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__ToLower_0
2025-05-16 22:25:30.322 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 22:25:30.414 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='11'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 22:25:30.438 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 22:25:30.490 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='754260' (Nullable = false) (Size = 6), @p1='2025-05-16T19:25:30.4465789Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T19:35:30.4465703Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 22:25:32.262 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 22:25:32.264 +03:00 [INF] Confirmation code resent successfully to: abdomoka2018@gmail.com
2025-05-16 22:25:32.266 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 22:25:32.268 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 2194.0311ms
2025-05-16 22:25:32.271 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:25:32.272 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 200 in 2214.6270 ms
2025-05-16 22:25:32.275 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 200 null application/json; charset=utf-8 2221.5444ms
2025-05-16 22:26:01.660 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/confirm-email - application/json 59
2025-05-16 22:26:01.673 +03:00 [INF] CORS policy execution failed.
2025-05-16 22:26:01.675 +03:00 [INF] Request origin https://localhost:7056 does not have permission to access the resource.
2025-05-16 22:26:01.676 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ConfirmEmail (e_learning)'
2025-05-16 22:26:01.678 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(e_learning.DTOs.ConfirmEmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:26:01.794 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0 AND [e].[ExpiryDate] > GETUTCDATE()
ORDER BY [e].[ExpiryDate] DESC
2025-05-16 22:26:01.850 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 22:26:01.957 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@p1='13', @p0='True'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsEmailConfirmed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-05-16 22:26:02.100 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 22:26:02.119 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='12'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 22:26:02.126 +03:00 [INF] Email confirmed for: abdomoka2018@gmail.com
2025-05-16 22:26:02.128 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 22:26:02.130 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ConfirmEmail (e_learning) in 449.853ms
2025-05-16 22:26:02.134 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ConfirmEmail (e_learning)'
2025-05-16 22:26:02.136 +03:00 [INF] HTTP POST /api/Auth/confirm-email responded 200 in 463.0817 ms
2025-05-16 22:26:02.142 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/confirm-email - 200 null application/json; charset=utf-8 481.9529ms
2025-05-16 22:29:05.395 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/api/Auth/resend-confirmation-code - null null
2025-05-16 22:29:05.471 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:29:05.472 +03:00 [INF] HTTP OPTIONS /api/Auth/api/Auth/resend-confirmation-code responded 204 in 1.2217 ms
2025-05-16 22:29:05.474 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/api/Auth/resend-confirmation-code - 204 null null 79.5058ms
2025-05-16 22:29:05.492 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/api/Auth/resend-confirmation-code - application/json 54
2025-05-16 22:29:05.496 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:29:05.497 +03:00 [INF] HTTP POST /api/Auth/api/Auth/resend-confirmation-code responded 404 in 1.4270 ms
2025-05-16 22:29:05.504 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/api/Auth/resend-confirmation-code - 404 0 null 12.0428ms
2025-05-16 22:29:05.511 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/Auth/api/Auth/resend-confirmation-code, Response status code: 404
2025-05-16 22:29:59.251 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/resend-confirmation-code - null null
2025-05-16 22:29:59.269 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:29:59.271 +03:00 [INF] HTTP OPTIONS /api/Auth/resend-confirmation-code responded 204 in 10.0843 ms
2025-05-16 22:29:59.273 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/resend-confirmation-code - 204 null null 21.7491ms
2025-05-16 22:29:59.281 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 54
2025-05-16 22:29:59.285 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:29:59.287 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:29:59.288 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:30:00.457 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:30:00.547 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 1254.5547ms
2025-05-16 22:30:00.552 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:30:00.555 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 1270.3458 ms
2025-05-16 22:30:00.675 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 1393.3172ms
2025-05-16 22:30:17.812 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 54
2025-05-16 22:30:17.873 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:30:17.874 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:30:17.880 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:30:17.888 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:30:17.890 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 4.5098ms
2025-05-16 22:30:17.895 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:30:17.900 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 26.7306 ms
2025-05-16 22:30:17.902 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 89.8045ms
2025-05-16 22:31:18.908 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - application/json 44
2025-05-16 22:31:18.930 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:31:18.934 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:31:18.940 +03:00 [INF] Route matched with {action = "ResendConfirmationCode", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendConfirmationCode(e_learning.DTOs.EmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:31:18.945 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-16 22:31:18.948 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning) in 4.3556ms
2025-05-16 22:31:18.951 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ResendConfirmationCode (e_learning)'
2025-05-16 22:31:18.952 +03:00 [INF] HTTP POST /api/Auth/resend-confirmation-code responded 400 in 22.2511 ms
2025-05-16 22:31:18.957 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/resend-confirmation-code - 400 null application/problem+json; charset=utf-8 48.6229ms
2025-05-16 22:32:11.425 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - null null
2025-05-16 22:32:11.563 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:32:11.568 +03:00 [INF] HTTP OPTIONS /api/Auth/register responded 204 in 5.3952 ms
2025-05-16 22:32:11.575 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/register - 204 null null 150.7534ms
2025-05-16 22:32:11.584 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/register - application/json 107
2025-05-16 22:32:11.595 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:32:11.597 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 22:32:11.606 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(e_learning.DTOs.UserRegisterDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:32:11.672 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__dto_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-16 22:32:12.111 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='2025-05-16T19:32:12.0433841Z', @p1='abdomoka2018@gmail.com' (Size = 450), @p2='عبدرالرحمن' (Size = 4000), @p3='True', @p4='False', @p5='$2a$11$oUaERN7cxRwDZnX1BemkTu2461dsYcGk2LH1HjoBQddaecAeYD6U.' (Size = 4000), @p6='Student' (Nullable = false) (Size = 4000), @p7=NULL (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedAt], [Email], [FullName], [IsActive], [IsEmailConfirmed], [PasswordHash], [Role], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-16 22:32:12.147 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 22:32:12.193 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='734011' (Nullable = false) (Size = 6), @p1='2025-05-16T19:32:12.1638631Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T19:42:12.1638546Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmailConfirmationCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 22:32:14.376 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 22:32:14.377 +03:00 [INF] New user registered - ID: 14
2025-05-16 22:32:14.378 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RegisterResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:32:14.380 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Register (e_learning) in 2772.2273ms
2025-05-16 22:32:14.386 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Register (e_learning)'
2025-05-16 22:32:14.388 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 2792.3364 ms
2025-05-16 22:32:14.391 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/register - 200 null application/json; charset=utf-8 2807.4857ms
2025-05-16 22:32:35.497 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - application/json 50
2025-05-16 22:32:35.503 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:32:35.507 +03:00 [INF] HTTP POST /api/api/Auth/confirm-email responded 404 in 3.8618 ms
2025-05-16 22:32:35.509 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - 404 0 null 11.7093ms
2025-05-16 22:32:35.518 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/api/Auth/confirm-email, Response status code: 404
2025-05-16 22:33:03.692 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - application/json 50
2025-05-16 22:33:03.706 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:33:03.708 +03:00 [INF] HTTP POST /api/api/Auth/confirm-email responded 404 in 2.2918 ms
2025-05-16 22:33:03.714 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/api/Auth/confirm-email - 404 0 null 21.206ms
2025-05-16 22:33:03.722 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/api/Auth/confirm-email, Response status code: 404
2025-05-16 22:35:48.365 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/confirm-email - null null
2025-05-16 22:35:48.383 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:35:48.384 +03:00 [INF] HTTP OPTIONS /api/confirm-email responded 204 in 1.8190 ms
2025-05-16 22:35:48.386 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/confirm-email - 204 null null 21.1041ms
2025-05-16 22:35:48.389 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/confirm-email - application/json 50
2025-05-16 22:35:48.395 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:35:48.403 +03:00 [INF] HTTP POST /api/confirm-email responded 404 in 8.3052 ms
2025-05-16 22:35:48.411 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/confirm-email - 404 0 null 21.8792ms
2025-05-16 22:35:48.573 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/confirm-email, Response status code: 404
2025-05-16 22:36:14.055 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/confirm-email - application/json 50
2025-05-16 22:36:14.058 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:36:14.074 +03:00 [INF] HTTP POST /api/confirm-email responded 404 in 16.1041 ms
2025-05-16 22:36:14.102 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/confirm-email - 404 0 null 47.2212ms
2025-05-16 22:36:14.209 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7056/api/confirm-email, Response status code: 404
2025-05-16 22:36:53.479 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/confirm-email - null null
2025-05-16 22:36:53.519 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:36:53.522 +03:00 [INF] HTTP OPTIONS /api/Auth/confirm-email responded 204 in 3.1750 ms
2025-05-16 22:36:53.532 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/confirm-email - 204 null null 60.3398ms
2025-05-16 22:36:53.536 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/confirm-email - application/json 50
2025-05-16 22:36:53.552 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:36:53.553 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ConfirmEmail (e_learning)'
2025-05-16 22:36:53.555 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(e_learning.DTOs.ConfirmEmailDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:36:53.649 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0 AND [e].[ExpiryDate] > GETUTCDATE()
ORDER BY [e].[ExpiryDate] DESC
2025-05-16 22:36:53.702 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 22:36:53.815 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@p1='14', @p0='True'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [IsEmailConfirmed] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-05-16 22:36:53.875 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Code], [e].[CreatedAt], [e].[Email], [e].[ExpiryDate]
FROM [EmailConfirmationCodes] AS [e]
WHERE [e].[Email] = @__ToLower_0
2025-05-16 22:36:54.032 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='13'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EmailConfirmationCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 22:36:54.039 +03:00 [INF] Email confirmed for: abdomoka2018@gmail.com
2025-05-16 22:36:54.046 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 22:36:54.054 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ConfirmEmail (e_learning) in 487.965ms
2025-05-16 22:36:54.064 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ConfirmEmail (e_learning)'
2025-05-16 22:36:54.079 +03:00 [INF] HTTP POST /api/Auth/confirm-email responded 200 in 527.2308 ms
2025-05-16 22:36:54.170 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/confirm-email - 200 null application/json; charset=utf-8 633.3063ms
2025-05-16 22:37:06.955 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - null null
2025-05-16 22:37:06.960 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:37:06.961 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 1.4434 ms
2025-05-16 22:37:06.964 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - 204 null null 9.1245ms
2025-05-16 22:37:06.979 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 74
2025-05-16 22:37:06.984 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:37:06.986 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 22:37:06.987 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:37:07.059 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 22:37:07.447 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='2025-05-16T19:37:07.4062421Z', @p1='0', @p2='2025-05-23T19:37:07.4061795Z', @p3='False', @p4='False', @p5='Ll1Nt8CwED2rpcSyxPkCvItYWP/54B9ZQL3dA8nNghc=' (Nullable = false) (Size = 450), @p6='14'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 22:37:07.464 +03:00 [INF] Successful login for: abdomoka2018@gmail.com
2025-05-16 22:37:07.465 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:37:07.469 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 479.365ms
2025-05-16 22:37:07.471 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 22:37:07.472 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 488.7615 ms
2025-05-16 22:37:07.479 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 500.2825ms
2025-05-16 22:37:07.948 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/refresh-token - null null
2025-05-16 22:37:08.752 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:37:08.802 +03:00 [INF] HTTP OPTIONS /api/Auth/refresh-token responded 204 in 50.1199 ms
2025-05-16 22:37:08.830 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/refresh-token - 204 null null 882.1342ms
2025-05-16 22:37:08.835 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 22:37:08.854 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:37:08.861 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 22:37:08.864 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:37:08.964 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__request_RefreshToken_0='Ll1Nt8CwED2rpcSyxPkCvItYWP/54B9ZQL3dA8nNghc=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 22:37:09.132 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@p7='30', @p0='2025-05-16T19:37:07.4062421', @p1='0', @p2='2025-05-23T19:37:07.4061795', @p3='False', @p4='True', @p5='Ll1Nt8CwED2rpcSyxPkCvItYWP/54B9ZQL3dA8nNghc=' (Nullable = false) (Size = 450), @p6='14', @p8='2025-05-16T19:37:09.0027193Z', @p9='0', @p10='2025-05-23T19:37:09.0026858Z', @p11='False', @p12='False', @p13='92vOghp/mXb5kYNpvHQujbQowXZ/MYyMDbqorjqEwOo=' (Nullable = false) (Size = 450), @p14='14'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 22:37:09.218 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:37:09.229 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 350.2696ms
2025-05-16 22:37:09.241 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 22:37:09.253 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 399.5947 ms
2025-05-16 22:37:09.267 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 431.6782ms
2025-05-16 22:37:29.030 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 74
2025-05-16 22:37:29.033 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:37:29.035 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 22:37:29.036 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:37:29.060 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 22:37:29.395 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='2025-05-16T19:37:29.3802624Z', @p1='0', @p2='2025-05-23T19:37:29.3802255Z', @p3='False', @p4='False', @p5='Vh4HrWix5vKb0Z1sPQJa5iueBo+UM0lsorCD4daL8wc=' (Nullable = false) (Size = 450), @p6='14'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 22:37:29.408 +03:00 [INF] Successful login for: abdomoka2018@gmail.com
2025-05-16 22:37:29.410 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:37:29.412 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 373.0987ms
2025-05-16 22:37:29.417 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 22:37:29.418 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 385.2751 ms
2025-05-16 22:37:29.579 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 504.9227ms
2025-05-16 22:37:29.725 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 22:37:29.752 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:37:29.762 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 22:37:29.763 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:37:29.796 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_RefreshToken_0='Vh4HrWix5vKb0Z1sPQJa5iueBo+UM0lsorCD4daL8wc=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 22:37:29.878 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@p7='32', @p0='2025-05-16T19:37:29.3802624', @p1='0', @p2='2025-05-23T19:37:29.3802255', @p3='False', @p4='True', @p5='Vh4HrWix5vKb0Z1sPQJa5iueBo+UM0lsorCD4daL8wc=' (Nullable = false) (Size = 450), @p6='14', @p8='2025-05-16T19:37:29.8152324Z', @p9='0', @p10='2025-05-23T19:37:29.8151838Z', @p11='False', @p12='False', @p13='vAAquy9gHJiGGPnb2K2+wdJAGGNwveJheuE+mJp6pow=' (Nullable = false) (Size = 450), @p14='14'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 22:37:30.052 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:37:30.056 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 291.6962ms
2025-05-16 22:37:30.061 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 22:37:30.063 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 310.9863 ms
2025-05-16 22:37:30.081 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 354.8126ms
2025-05-16 22:51:22.945 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - null null
2025-05-16 22:51:22.948 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:51:22.950 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 2.1301 ms
2025-05-16 22:51:22.952 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/login - 204 null null 7.6894ms
2025-05-16 22:51:22.959 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/login - application/json 74
2025-05-16 22:51:22.967 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:51:22.970 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 22:51:22.972 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(e_learning.DTOs.UserLoginDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:51:23.024 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 22:51:23.249 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='2025-05-16T19:51:23.2345633Z', @p1='0', @p2='2025-05-23T19:51:23.2345244Z', @p3='False', @p4='False', @p5='2rEwFEeUQgbH1uoASL8iVgukpWY0h4yTCwrBqJKmcdM=' (Nullable = false) (Size = 450), @p6='14'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-16 22:51:23.256 +03:00 [INF] Successful login for: abdomoka2018@gmail.com
2025-05-16 22:51:23.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.LoginResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:51:23.261 +03:00 [INF] Executed action e_learning.Controllers.AuthController.Login (e_learning) in 287.5967ms
2025-05-16 22:51:23.263 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.Login (e_learning)'
2025-05-16 22:51:23.264 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 296.9584 ms
2025-05-16 22:51:23.269 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/login - 200 null application/json; charset=utf-8 309.2555ms
2025-05-16 22:51:23.367 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/refresh-token - null null
2025-05-16 22:51:23.385 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:51:23.401 +03:00 [INF] HTTP OPTIONS /api/Auth/refresh-token responded 204 in 16.4113 ms
2025-05-16 22:51:23.407 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - application/json 63
2025-05-16 22:51:23.403 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/refresh-token - 204 null null 35.6123ms
2025-05-16 22:51:23.420 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:51:23.433 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 22:51:23.444 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(e_learning.Models.RefreshTokenRequest) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:51:23.485 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_RefreshToken_0='2rEwFEeUQgbH1uoASL8iVgukpWY0h4yTCwrBqJKmcdM=' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresIn], [u].[ExpiryDate], [u].[IsRevoked], [u].[IsUsed], [u].[RefreshToken], [u].[UserId], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[FullName], [u0].[IsActive], [u0].[IsEmailConfirmed], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u].[RefreshToken] = @__request_RefreshToken_0
2025-05-16 22:51:23.520 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p7='34', @p0='2025-05-16T19:51:23.2345633', @p1='0', @p2='2025-05-23T19:51:23.2345244', @p3='False', @p4='True', @p5='2rEwFEeUQgbH1uoASL8iVgukpWY0h4yTCwrBqJKmcdM=' (Nullable = false) (Size = 450), @p6='14', @p8='2025-05-16T19:51:23.5052623Z', @p9='0', @p10='2025-05-23T19:51:23.5052265Z', @p11='False', @p12='False', @p13='CUV+g048K+pvw/NkEcPEojmcJXH07Q5XW+cT2GTRlH8=' (Nullable = false) (Size = 450), @p14='14'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [CreatedAt] = @p0, [ExpiresIn] = @p1, [ExpiryDate] = @p2, [IsRevoked] = @p3, [IsUsed] = @p4, [RefreshToken] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [UserRefreshTokens] ([CreatedAt], [ExpiresIn], [ExpiryDate], [IsRevoked], [IsUsed], [RefreshToken], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-05-16 22:51:23.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse`1[[e_learning.DTOs.Responses.RefreshTokenResponse, e_learning, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-16 22:51:23.532 +03:00 [INF] Executed action e_learning.Controllers.AuthController.RefreshToken (e_learning) in 75.7684ms
2025-05-16 22:51:23.534 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.RefreshToken (e_learning)'
2025-05-16 22:51:23.535 +03:00 [INF] HTTP POST /api/Auth/refresh-token responded 200 in 115.6924 ms
2025-05-16 22:51:23.539 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/refresh-token - 200 null application/json; charset=utf-8 132.091ms
2025-05-16 22:53:03.006 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/forgot-password - null null
2025-05-16 22:53:03.010 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:53:03.012 +03:00 [INF] HTTP OPTIONS /api/Auth/forgot-password responded 204 in 1.8132 ms
2025-05-16 22:53:03.015 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/forgot-password - 204 null null 8.6297ms
2025-05-16 22:53:03.019 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 22:53:03.026 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:53:03.028 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 22:53:03.093 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:53:03.161 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 22:53:03.273 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 22:53:03.359 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='809076' (Nullable = false) (Size = 6), @p1='2025-05-16T19:53:03.2842946Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:03:03.2842608Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 22:53:05.294 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 22:53:05.301 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 22:53:05.306 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 22:53:05.312 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 2216.2618ms
2025-05-16 22:53:05.315 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 22:53:05.316 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 2289.9795 ms
2025-05-16 22:53:05.320 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 2300.4526ms
2025-05-16 22:54:41.758 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 22:54:41.761 +03:00 [INF] CORS policy execution successful.
2025-05-16 22:54:41.764 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 22:54:41.765 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 22:54:41.780 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 22:54:41.811 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 22:54:41.834 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='1'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 22:54:41.850 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='692389' (Nullable = false) (Size = 6), @p1='2025-05-16T19:54:41.8436297Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:04:41.8436280Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 22:54:43.490 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 22:54:43.492 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 22:54:43.493 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 22:54:43.495 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 1725.6388ms
2025-05-16 22:54:43.497 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 22:54:43.498 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 1736.6514 ms
2025-05-16 22:54:43.501 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 1742.7524ms
2025-05-16 23:01:18.725 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:01:18.733 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:01:18.738 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:01:18.743 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:01:18.791 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:01:18.806 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:01:18.831 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='2'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:01:18.851 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='843714' (Nullable = false) (Size = 6), @p1='2025-05-16T20:01:18.8375143Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:11:18.8375127Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:01:20.548 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:01:20.550 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:01:20.551 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:01:20.553 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 1806.0369ms
2025-05-16 23:01:20.556 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:01:20.558 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 1825.1921 ms
2025-05-16 23:01:20.563 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 1838.145ms
2025-05-16 23:10:10.856 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/forgot-password - null null
2025-05-16 23:10:10.863 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:10:10.865 +03:00 [INF] HTTP OPTIONS /api/Auth/forgot-password responded 204 in 1.5530 ms
2025-05-16 23:10:10.867 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/forgot-password - 204 null null 10.2972ms
2025-05-16 23:10:10.871 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:10:10.877 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:10:10.878 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:10:10.880 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:10:10.928 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:10:10.949 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:10:10.978 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:10:11.002 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='403972' (Nullable = false) (Size = 6), @p1='2025-05-16T20:10:10.9865504Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:20:10.9865484Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:10:13.738 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:10:13.742 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:10:13.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:10:13.747 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 2861.6995ms
2025-05-16 23:10:13.787 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:10:13.803 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 2925.5773 ms
2025-05-16 23:10:13.822 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 2951.2006ms
2025-05-16 23:10:51.676 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:10:51.678 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:10:51.680 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:10:51.681 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:10:51.710 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:10:51.731 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:10:51.751 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='4'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:10:51.771 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='944359' (Nullable = false) (Size = 6), @p1='2025-05-16T20:10:51.7618475Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:20:51.7618442Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:10:53.417 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:10:53.418 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:10:53.425 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:10:53.427 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 1742.5538ms
2025-05-16 23:10:53.429 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:10:53.448 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 1770.1152 ms
2025-05-16 23:10:53.567 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 1891.6765ms
2025-05-16 23:11:33.929 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:11:33.935 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:11:33.938 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:11:33.942 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:11:33.964 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:11:34.011 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:11:34.058 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='5'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:11:34.111 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='519892' (Nullable = false) (Size = 6), @p1='2025-05-16T20:11:34.0749050Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:21:34.0749028Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:11:35.778 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:11:35.780 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:11:35.781 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:11:35.786 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 1841.2791ms
2025-05-16 23:11:35.790 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:11:35.791 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 1856.1311 ms
2025-05-16 23:11:35.794 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 1865.1199ms
2025-05-16 23:17:17.140 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:17:17.145 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:17:17.149 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:17:17.151 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:17:17.188 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:17:17.217 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:17:17.247 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='6'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:17:17.268 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='454695' (Nullable = false) (Size = 6), @p1='2025-05-16T20:17:17.2601297Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:27:17.2601275Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:17:19.213 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:17:19.215 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:17:19.222 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:17:19.226 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 2068.84ms
2025-05-16 23:17:19.231 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:17:19.233 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 2088.5403 ms
2025-05-16 23:17:19.249 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 2108.6236ms
2025-05-16 23:21:53.641 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/forgot-password - null null
2025-05-16 23:21:53.646 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:21:53.647 +03:00 [INF] HTTP OPTIONS /api/Auth/forgot-password responded 204 in 1.1916 ms
2025-05-16 23:21:53.649 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/forgot-password - 204 null null 8.2346ms
2025-05-16 23:21:53.654 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:21:53.658 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:21:53.664 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:21:53.665 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:21:53.691 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:21:53.716 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:21:53.740 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='7'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:21:53.770 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='718927' (Nullable = false) (Size = 6), @p1='2025-05-16T20:21:53.7516749Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:31:53.7516726Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:21:55.601 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:21:55.603 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:21:55.605 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:21:55.608 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 1940.1718ms
2025-05-16 23:21:55.623 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:21:55.639 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 1980.7549 ms
2025-05-16 23:21:55.688 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 2033.5496ms
2025-05-16 23:23:40.312 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:23:40.316 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:23:40.332 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:23:40.341 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:23:40.375 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:23:40.390 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:23:40.408 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='8'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:23:40.428 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='228472' (Nullable = false) (Size = 6), @p1='2025-05-16T20:23:40.4166713Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:33:40.4166691Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:23:42.225 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:23:42.226 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:23:42.227 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:23:42.230 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 1886.6097ms
2025-05-16 23:23:42.232 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:23:42.233 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 1916.8359 ms
2025-05-16 23:23:42.238 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 1926.2867ms
2025-05-16 23:25:36.636 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:25:36.718 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:25:36.720 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:25:36.724 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:25:36.769 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:25:36.787 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:25:36.807 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='9'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:25:36.829 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='924865' (Nullable = false) (Size = 6), @p1='2025-05-16T20:25:36.8148091Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:35:36.8148073Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:25:38.639 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:25:38.640 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:25:38.641 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:25:38.644 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 1911.4349ms
2025-05-16 23:25:38.650 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:25:38.652 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 1933.7899 ms
2025-05-16 23:25:38.656 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 2020.0445ms
2025-05-16 23:30:05.996 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:30:06.005 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:30:06.007 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:30:06.008 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:30:06.031 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:30:06.059 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:30:06.075 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='10'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:30:06.095 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='475702' (Nullable = false) (Size = 6), @p1='2025-05-16T20:30:06.0822328Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T20:40:06.0822305Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:30:07.771 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:30:07.772 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:30:07.773 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:30:07.775 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 1764.5244ms
2025-05-16 23:30:07.777 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:30:07.785 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 1779.9881 ms
2025-05-16 23:30:07.790 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 1794.0303ms
2025-05-16 23:58:23.704 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7056/api/Auth/forgot-password - null null
2025-05-16 23:58:23.727 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:58:23.729 +03:00 [INF] HTTP OPTIONS /api/Auth/forgot-password responded 204 in 12.8598 ms
2025-05-16 23:58:23.732 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7056/api/Auth/forgot-password - 204 null null 33.6106ms
2025-05-16 23:58:23.781 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - application/json 34
2025-05-16 23:58:23.806 +03:00 [INF] CORS policy execution successful.
2025-05-16 23:58:23.812 +03:00 [INF] Executing endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:58:23.823 +03:00 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(e_learning.DTOs.ForgotPasswordDto) on controller e_learning.Controllers.AuthController (e_learning).
2025-05-16 23:58:23.962 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__dto_Email_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FullName], [u].[IsActive], [u].[IsEmailConfirmed], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__dto_Email_0
2025-05-16 23:58:23.990 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__ToLower_0='abdomoka2018@gmail.com' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Code], [p].[CreatedAt], [p].[Email], [p].[ExpiryDate]
FROM [PasswordResetCodes] AS [p]
WHERE [p].[Email] = @__ToLower_0
2025-05-16 23:58:24.049 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='11'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PasswordResetCodes]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-16 23:58:24.107 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='924403' (Nullable = false) (Size = 6), @p1='2025-05-16T20:58:24.0624327Z', @p2='abdomoka2018@gmail.com' (Nullable = false) (Size = 450), @p3='2025-05-16T21:08:24.0624310Z'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PasswordResetCodes] ([Code], [CreatedAt], [Email], [ExpiryDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-05-16 23:58:26.008 +03:00 [INF] Email sent to abdomoka2018@gmail.com
2025-05-16 23:58:26.009 +03:00 [INF] Password reset code sent to: abdomoka2018@gmail.com
2025-05-16 23:58:26.011 +03:00 [INF] Executing OkObjectResult, writing value of type 'e_learning.DTOs.Responses.ApiResponse'.
2025-05-16 23:58:26.014 +03:00 [INF] Executed action e_learning.Controllers.AuthController.ForgotPassword (e_learning) in 2187.355ms
2025-05-16 23:58:26.017 +03:00 [INF] Executed endpoint 'e_learning.Controllers.AuthController.ForgotPassword (e_learning)'
2025-05-16 23:58:26.019 +03:00 [INF] HTTP POST /api/Auth/forgot-password responded 200 in 2213.5409 ms
2025-05-16 23:58:26.027 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7056/api/Auth/forgot-password - 200 null application/json; charset=utf-8 2245.9491ms
